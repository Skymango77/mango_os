<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mango Freight | Premium Review & Receipt</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
        }

        /* [í•µì‹¬] ì˜ìˆ˜ì¦ í•˜ë‹¨ ì§€ê·¸ì¬ê·¸ ì»· - ì ˆëŒ€ ìƒëµ ì—†ëŠ” ì •ë°€ ì¢Œí‘œ */
        .receipt-cut {
            clip-path: polygon(
                0% 0%, 100% 0%, 100% 96%, 
                99% 98%, 98% 96%, 97% 98%, 96% 96%, 95% 98%, 94% 96%, 93% 98%, 92% 96%, 91% 98%, 90% 96%, 
                89% 98%, 88% 96%, 87% 98%, 86% 96%, 85% 98%, 84% 96%, 83% 98%, 82% 96%, 81% 98%, 80% 96%, 
                79% 98%, 78% 96%, 77% 98%, 76% 96%, 75% 98%, 74% 96%, 73% 98%, 72% 96%, 71% 98%, 70% 96%, 
                69% 98%, 68% 96%, 67% 98%, 66% 96%, 65% 98%, 64% 96%, 63% 98%, 62% 96%, 61% 98%, 60% 96%, 
                59% 98%, 58% 96%, 57% 98%, 56% 96%, 55% 98%, 54% 96%, 53% 98%, 52% 96%, 51% 98%, 50% 96%, 
                49% 98%, 48% 96%, 47% 98%, 46% 96%, 45% 98%, 44% 96%, 43% 98%, 42% 96%, 41% 98%, 40% 96%, 
                39% 98%, 38% 96%, 37% 98%, 36% 96%, 35% 98%, 34% 96%, 33% 98%, 32% 96%, 31% 98%, 30% 96%, 
                29% 98%, 28% 96%, 27% 98%, 26% 96%, 25% 98%, 24% 96%, 23% 98%, 22% 96%, 21% 98%, 20% 96%, 
                19% 98%, 18% 96%, 17% 98%, 16% 96%, 15% 98%, 14% 96%, 13% 98%, 12% 96%, 11% 98%, 10% 96%, 
                9% 98%, 8% 96%, 7% 98%, 6% 96%, 5% 98%, 4% 96%, 3% 98%, 2% 96%, 1% 98%, 0% 96%
            );
        }

        /* ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë¶€ìœ  ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes mangoFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }
        .mango-float { 
            animation: mangoFloat 4s ease-in-out infinite; 
        }

        /* ë³„ì  ì¸í„°ë™ì…˜ ë””í…Œì¼ */
        .star-item {
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            opacity: 0.15;
            filter: grayscale(1);
        }
        .star-item:hover {
            transform: scale(1.5) rotate(15deg);
        }
        .star-active {
            opacity: 1 !important;
            filter: grayscale(0) drop-shadow(0 0 20px #FFCC00);
            color: #FFCC00;
        }

        /* í…ìŠ¤íŠ¸ ê·¸ë¼ë°ì´ì…˜ */
        .text-mango {
            background: linear-gradient(to right, #FF8200, #FFCC00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ì»¨í…Œì´ë„ˆ */
        .glass-box {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body class="text-white min-h-screen flex items-center justify-center p-6 sm:p-12 overflow-x-hidden">

    <div class="fixed top-[-20%] left-[-10%] w-[500px] h-[500px] bg-[#FF8200] opacity-[0.07] blur-[150px] pointer-events-none"></div>
    <div class="fixed bottom-[-20%] right-[-10%] w-[500px] h-[500px] bg-[#FFCC00] opacity-[0.05] blur-[150px] pointer-events-none"></div>

    <main class="w-full max-w-[450px] space-y-12 relative">
        
      <header class="text-center space-y-8 mb-12">
    <div class="mango-float inline-block">
        <div class="w-32 h-32 bg-[#FFCC00] rounded-full flex items-center justify-center border-[8px] border-black shadow-[0_0_50px_rgba(255,204,0,0.3)] overflow-hidden relative">
            <img src="mango_icon.jpg" alt="Mango Logo" class="w-full h-full object-cover">
        </div>
    </div>

    <div class="space-y-4">
        <h1 class="text-5xl font-black italic tracking-tighter leading-tight text-white">
            SWEET <span class="text-[#FFCC00]">COMPLETE!</span>
        </h1>
        <p class="text-white/40 text-[11px] font-bold uppercase tracking-[0.5em]">
            ë°°ì†¡ì´ ë§ê³ ì²˜ëŸ¼ ë‹¬ì½¤í•˜ê²Œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤
        </p>
    </div>
</header>
                        <path d="M331.8,55.4c-47.5-31.5-110.1-23.7-154.5,18.1C132.8,115.3,101.4,191.2,108.7,268c3.2,33.5,14.6,65.6,33.3,93.4l11.4-15.1c-15.8-23.6-25.3-50.6-27.9-78.8c-6-63.5,19.8-126,64.8-169.1c36.1-34.6,87.3-41.2,126-17.2L331.8,55.4z"/>
                        <path d="M418.1,91.8c-12.2-12.2-28.4-18.9-45.7-18.9c-8.5,0-16.8,1.6-24.7,4.8l26,34.7c15.8,21.1,23.1,47,20.5,73.1c-2.4,24.1-12.8,46.5-29.4,63.1l14.7,11.1c19.8-19.8,32.4-46.6,35.3-75.5C418.4,153.2,408,122.8,418.1,91.8z"/>
                        <path d="M194.5,417.3c-41.7-11.8-76.4-38.6-97.7-75.4L81.4,363c25.4,44.1,67.1,76,116.8,90.1L194.5,417.3z"/>
                        <path d="M407.7,344.8c-26.6-46.1-70.5-79.1-122.5-91.8l-3.7,25.4c43.6,10.6,80.4,38.3,102.7,77L407.7,344.8z"/>
                    </svg>

                    

        <article class="bg-[#141414] receipt-cut p-12 border-x border-t border-white/5 shadow-2xl relative">
            <div class="flex justify-between items-start mb-16">
                <div class="space-y-2">
                    <p class="text-[12px] text-[#FFCC00] font-black uppercase tracking-[0.4em]">Transaction OK</p>
                    <h2 class="text-4xl font-black italic tracking-tighter text-white">MANGO <span class="text-[#FFCC00]">PAY</span></h2>
                </div>
                <div class="text-right font-mono text-[10px] text-white/20 leading-loose">
                    <p id="receipt-date">DATE: Loading...</p>
                    <p id="receipt-id">TRANS: Loading...</p>

                    <p class="text-[#FFCC00]/50 font-bold">â— PREMIUM SERVICE</p>
                </div>
            </div>

            <div class="space-y-6 border-y border-white/5 py-10 my-10">
    <div class="flex justify-between text-sm uppercase tracking-widest text-white/30">
        <span>Delivery Service</span>
        <span>Standard</span>
    </div>

    <div class="space-y-4 pt-4 border-t border-white/5">
        <div class="flex justify-between text-lg">
            <span class="text-white/60 font-medium italic">Premium Thai Mango (3kg)</span>
            <span class="font-bold text-white/90 tracking-tight">65,000 ì›</span>
        </div>
        <div class="flex justify-between text-lg">
            <span class="text-white/60 font-medium italic">Honey Apple Mango (2ea)</span>
            <span class="font-bold text-white/90 tracking-tight">35,000 ì›</span>
        </div>
        <div class="flex justify-between text-lg">
            <span class="text-white/20 font-medium">Base Fare & Distance</span>
            <span class="font-bold text-white/80 tracking-tight">30,000 ì›</span>
        </div>
    </div>

    <div class="flex justify-between text-lg text-[#FFCC00] font-bold pt-4 border-t border-white/5">
        <span class="flex items-center gap-3 italic">âœ¨ Member Discount</span>
        <span>-6,500 ì›</span>
    </div>
    
    <div class="flex justify-between font-black text-4xl pt-10 mt-6 border-t-2 border-dashed border-white/10">
        <span class="text-white/20 uppercase text-xs self-center tracking-widest">Grand Total</span>
        <span class="text-[#FFCC00] drop-shadow-[0_0_15px_rgba(255,204,0,0.4)]">123,500 ì›</span>
    </div>
</div>

               <div class="w-20 h-20 rounded-full overflow-hidden border-4 border-[#FFCC00]/20 shadow-inner">
    <img id="driver-img" src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300" class="w-full h-full object-cover grayscale-[0.2]">
</div>
<div class="space-y-2">
    <p class="text-[11px] text-[#FFCC00] font-black uppercase tracking-widest">Certified Driver</p>
    <h3 id="driver-name" class="text-xl font-black text-white/90">Mike Driver</h3>
    <p id="driver-car" class="text-xs font-medium text-white/30 italic">ê²½ê¸° 88 ë°” 1234</p>
</div>
            </div>
        </article>
        
        <section class="glass-box rounded-[4rem] p-12 text-center space-y-10">
            <div class="space-y-6">
                <h3 class="text-[12px] font-black text-[#FFCC00] uppercase tracking-[0.5em]">Rate Your Experience</h3>
                <div class="star-group flex justify-center gap-5 text-6xl">
                    <span class="star-item" onclick="handleRating(1)">â˜…</span>
                    <span class="star-item" onclick="handleRating(2)">â˜…</span>
                    <span class="star-item" onclick="handleRating(3)">â˜…</span>
                    <span class="star-item" onclick="handleRating(4)">â˜…</span>
                    <span class="star-item" onclick="handleRating(5)">â˜…</span>
                </div>
            </div>

<div class="space-y-4 pt-4">
    <label class="text-[10px] font-black text-white/20 uppercase tracking-[0.3em] block">Additional Comment</label>
    <textarea 
        id="review-text"
        placeholder="ê¸°ì‚¬ë‹˜ê»˜ ì „í•  ë”°ëœ»í•œ í•œë§ˆë””ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”..."
        class="w-full bg-white/5 border border-white/10 rounded-3xl p-6 text-sm text-white focus:outline-none focus:border-[#FFCC00]/50 transition-all resize-none h-32 placeholder:text-white/10"
    ></textarea>
</div>

            <div class="grid grid-cols-2 gap-6 pt-6">
               <button onclick="handleSave()" class="py-7 rounded-[3rem] bg-white/5 text-[12px] font-black uppercase tracking-[0.2em] border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-xl">
    Save
</button>
                <button onclick="handleComplete()" class="py-7 rounded-[3rem] bg-[#FFCC00] text-black text-[12px] font-black uppercase tracking-[0.2em] shadow-[0_25px_50px_rgba(255,204,0,0.25)] hover:opacity-90 transition-all active:scale-95">
                    Complete
                </button>
            </div>
        </section>

    </main>

    <script>
        window.onload = function() {
        // 1. ë‚ ì§œ ë° ID ìƒì„±
        const now = new Date();
        const dateStr = `${now.getFullYear()}.${String(now.getMonth() + 1).padStart(2, '0')}.${String(now.getDate()).padStart(2, '0')}`;
        document.getElementById('receipt-date').innerText = `DATE: ${dateStr}`;
        document.getElementById('receipt-id').innerText = `TRANS: #MG-${Math.floor(100000 + Math.random() * 900000)}`;

        // 2. ê¸°ì‚¬ë‹˜ ëœë¤ ë°ì´í„° ë°°ì—´
        const drivers = [
            { name: "Kim Mango", car: "ì„œìš¸ 77 ê°€ 1234", img: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=300" },
            { name: "Lee Sweet", car: "ê²½ê¸° 88 ë°” 5678", img: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300" },
            { name: "Park Fresh", car: "ì¸ì²œ 99 í•˜ 9012", img: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300" }
        ];

        // 3. ë¬´ì‘ìœ„ ì„ íƒ ë° í™”ë©´ ë°˜ì˜
        const randomDriver = drivers[Math.floor(Math.random() * drivers.length)];
        document.getElementById('driver-name').innerText = randomDriver.name;
        document.getElementById('driver-car').innerText = randomDriver.car;
        document.getElementById('driver-img').src = randomDriver.img;
    };
        let score = 0;

        function handleRating(n) {
            score = n;
            const stars = document.querySelectorAll('.star-item');
            stars.forEach((s, i) => {
                s.classList.toggle('star-active', i < n);
            });
        }
function handleSave() {
    // ìº¡ì²˜í•  ì˜ì—­ ì„ íƒ (ì˜ìˆ˜ì¦ ì¹´ë“œ ì „ì²´)
    const receipt = document.querySelector('article');
    
    // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½ (ì§„í–‰ ì¤‘ í‘œì‹œ)
    const saveBtn = event.currentTarget;
    const originalText = saveBtn.innerText;
    saveBtn.innerText = "CAPTURING...";

    html2canvas(receipt, {
        backgroundColor: "#050505", // ë°°ê²½ìƒ‰ ìœ ì§€
        scale: 2, // ê³ í•´ìƒë„ ìº¡ì²˜
        logging: false,
        useCORS: true // ì´ë¯¸ì§€ ë¡œë“œ í—ˆìš©
    }).then(canvas => {
        const link = document.createElement('a');
        link.download = 'Mango_Receipt.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        
        // ë²„íŠ¼ í…Client í…ìŠ¤íŠ¸ ë³µêµ¬
        saveBtn.innerText = originalText;
        alert("ì˜ìˆ˜ì¦ì´ ì´ë¯¸ì§€ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ¥­");
    });
}
        function handleComplete() {
            if (score === 0) {
                alert("ê¸°ì‚¬ë‹˜ê»˜ ë‹¬ì½¤í•œ ë³„ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸ¥­");
                return;
            }
            
            // [Step 1] ì „ì†¡ ì¤‘ ë¡œë”© í™”ë©´ ì—°ì¶œ (1.5ì´ˆ)
            document.body.style.transition = "all 0.5s ease-in-out";
            document.body.innerHTML = `
                <div class="flex flex-col items-center justify-center min-h-screen text-[#FFCC00] bg-[#050505]">
                    <div class="relative w-24 h-24 mb-8">
                        <div class="absolute inset-0 border-4 border-[#FFCC00]/20 rounded-full"></div>
                        <div class="absolute inset-0 border-4 border-[#FFCC00] rounded-full border-t-transparent animate-spin"></div>
                    </div>
                    <h2 class="text-2xl font-black tracking-[0.3em] uppercase animate-pulse">Sending Data...</h2>
                    <p class="text-white/30 text-xs mt-4 font-mono">ë§ê³  ì„œë²„ë¡œ ë³„ì ì„ ì „ì†¡í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            `;

            // [Step 2] ì „ì†¡ ì™„ë£Œ í›„ ìµœì¢… í™”ë©´ í‘œì‹œ
            setTimeout(() => {
                document.body.style.backgroundColor = "#FFCC00";
                document.body.innerHTML = `
                    <div class="flex flex-col items-center justify-center min-h-screen text-black p-6 text-center">
                        <div class="w-40 h-40 bg-black rounded-[4rem] flex items-center justify-center shadow-2xl mb-12 animate-bounce">
                            <svg class="w-20 h-20 text-[#FFCC00]" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="4">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <h2 class="text-7xl font-black italic tracking-tighter mb-4">SWEET!</h2>
                        <p class="text-black/50 font-bold tracking-widest uppercase text-sm mb-16">ë¦¬ë·°ê°€ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤</p>
                        
                        <div class="flex flex-col gap-4 w-full max-w-[300px] mx-auto">
                            <button onclick="location.href='index.html'" class="px-12 py-6 bg-black text-[#FFCC00] rounded-full font-black text-lg hover:scale-105 transition-all shadow-2xl">
                                ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                            </button>
                            <button onclick="location.reload()" class="text-black/40 font-bold text-xs uppercase tracking-widest">
                                ë‹¤ì‹œ ì‘ì„±í•˜ê¸°
                            </button>
                        </div>
                    </div>
                `;
            }, 2000); // 2ì´ˆ ëŒ€ê¸°
        }
    </script>
</body>
</html>