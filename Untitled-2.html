<!DOCTYPE html>
<html lang="ko">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>MANGO Universe Final - Intuitive UX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.0/lucide.min.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:ital,wght@1,900&display=swap');
        /* ì•„ë˜ ì½”ë“œë¡œ êµì²´ (ë ˆì´ì €ê°€ ë” ì˜¤ë˜ ì„ ëª…í•˜ê²Œ ë³´ì…ë‹ˆë‹¤) */
@keyframes scan {
    0% { top: 0%; opacity: 0; }
    20% { opacity: 1; }   /* ìŠ¤ìº” ì‹œì‘ ì§í›„ ë°”ë¡œ ì„ ëª…í•´ì§ */
    80% { opacity: 1; }   /* í•˜ë‹¨ì— ë‹¿ì„ ë•Œê¹Œì§€ ì„ ëª…í•¨ ìœ ì§€ */
    100% { top: 100%; opacity: 0; }
}
.animate-scan {
    animation: scan 2s infinite ease-in-out;
}
      /* í”¼ë“œ ì°½ì˜ ê¸°ë³¸ ë””ìì¸ : ë„ˆë¹„ëŠ” mango-containerê°€ 92%ë¡œ ì¡ì•„ì¤ë‹ˆë‹¤ */
.glass { 
    background: rgba(255, 255, 255, 0.03); 
    backdrop-filter: blur(10px); 
    border: 1px solid rgba(255, 170, 0, 0.2); 
    border-radius: 20px; 
    transition: transform 0.2s;
}
.glass:active { transform: scale(0.98); } /* í´ë¦­ ì‹œ ëˆŒë¦¬ëŠ” íš¨ê³¼ */

.feed-img-box { 
    width: 80px; 
    height: 80px; 
    flex-shrink: 0; 
    overflow: hidden; 
    border-radius: 16px; 
    border: 1px solid rgba(255,255,255,0.1);
}
.feed-img-box img { width: 100%; height: 100%; object-fit: cover; }  
        /* 1. êµ¬ê¸€ì—ì„œ 'ë„í†°í•˜ê³  ë‘¥ê·¼' Kanit í°íŠ¸ë¥¼ ë¹Œë ¤ì˜¤ëŠ” ì½”ë“œì…ë‹ˆë‹¤. */


/* í´ë˜ìŠ¤ í•„ìš” ì—†ì´ ì´ ì• ë‹ˆë©”ì´ì…˜ë§Œ ìˆìœ¼ë©´ ë©ë‹ˆë‹¤ */
@keyframes gold-shine {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
}
/* ë§¥ë™ ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ ì¶”ê°€ */
@keyframes mango-pulse {
    0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px rgba(255, 170, 0, 0.4)); }
    50% { transform: scale(1.03); filter: drop-shadow(0 0 15px rgba(255, 170, 0, 0.7)); }
}
/* ê¸€ì ì „ìš© ê¸ˆê°€ë£¨ ìŠ¤íƒ€ì¼ */
.text-gold-particle {
    position: absolute;
    background: gold;
    border-radius: 50%;
    box-shadow: 0 0 8px gold;
    pointer-events: none;
    z-index: -1; /* ê¸€ì ë’¤ì—ì„œ ìƒì„±ë˜ë„ë¡ ì„¤ì • */
    animation: text-fall 2s linear forwards;
}

@keyframes text-fall {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(40px) scale(0.5); opacity: 0; }
}
/* ê¸ˆê°€ë£¨ ì…ì ìŠ¤íƒ€ì¼ ì¶”ê°€ */
.gold-particle {
    position: absolute;
    background: radial-gradient(circle, #ffffff 0%, #ffcc00 60%, #ffaa00 100%);    border-radius: 50%;
    pointer-events: none;
    z-index: 1000; /* ê¸€ìë³´ë‹¤ ì•ì— ì˜¤ë„ë¡ ë†’ì€ ìˆ«ì ë¶€ì—¬ */
    box-shadow: 0 0 5px rgba(255, 215, 0, 1); 
    filter: blur(0.5px);/* ìì²´ ë°œê´‘ ì¶”ê°€ */
}

@keyframes fall-and-stack {
    0% { 
        transform: translateY(-5px); 
        opacity: 0; 
    }
    15% { opacity: 1; }
    100% { 
        /* MANGO ê¸€ì í•˜ë‹¨ ì•½ 32px ì§€ì ì— ê³ ì •ë˜ì–´ ìŒ“ì„ */
        transform: translateY(32px) scale(0.9); 
        opacity: 0.8;
    }
}
/* ê¸€ì ì˜ì—­ì„ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ ì„¤ì • */
.logo-wrapper {
    position: relative; /* ê¸ˆê°€ë£¨ì˜ ê¸°ì¤€ì  */
    display: inline-block;
}
.mango-gold-power {
    position: relative;
    display: inline-block;
    
    /* 1. í°íŠ¸ ë° ë‘ê»˜ ì„¤ì • */
    font-family: 'Kanit', sans-serif !important;
    font-style: italic !important;
    font-weight: 900 !important; 
    
    /* 2. ê°€ë…ì„±ì„ ìœ„í•œ ì¡°ì •: ê°„ê²© ë„“íˆê³  ì™¸ê³½ì„  ì‚´ì§ ì¤„ì„ */
    letter-spacing: 0.05em; /* ê¸€ì ì‚¬ì´ ê°„ê²© ì¶”ê°€í•˜ì—¬ ê¸€ì ë­‰ì¹¨ ë°©ì§€ */
    -webkit-text-stroke: 3px #fbbf24; /* 6pxì—ì„œ 3pxë¡œ ì¤„ì—¬ ê¸€ì í˜•íƒœ ëª…í™•í™” */
    paint-order: stroke fill;
    stroke-linejoin: round;

    /* 3. ê¸ˆë¹› ê´‘ì› íš¨ê³¼ (ì¢Œìš° ì´ë™) */
    background: linear-gradient(
        to right, 
        #f59e0b 0%, 
        #fbbf24 20%, 
        #ffffff 50%,  /* ì¤‘ì•™ì˜ ë°ì€ í°ìƒ‰ ë¹› */
        #fbbf24 80%, 
        #f59e0b 100%
    );
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    
    /* 4. ì• ë‹ˆë©”ì´ì…˜ í†µí•© */
animation: gold-shine 2s linear infinite, mango-pulse 2s infinite ease-in-out !important;    
    padding: 0 10px; /* ì™¸ê³½ì„  ë•Œë¬¸ì— ê¸€ìê°€ ì˜ë¦¬ì§€ ì•Šë„ë¡ ì—¬ë°± í™•ë³´ */
    filter: drop-shadow(0 0 8px rgba(255, 170, 0, 0.4));
}
/* 2. .logo-fontë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ê¸€ìë“¤ì—ê²Œ ì´ í°íŠ¸ë¥¼ ì ìš©í•˜ë¼ëŠ” ê·œì¹™ì…ë‹ˆë‹¤. */
.logo-font {
    font-family: 'Kanit', sans-serif !important;
    -webkit-font-smoothing: antialiased;
}
        /* [2026-01-01] ì§€ì¹¨: ëª¨ë“  ì°½ ë„ˆë¹„ 92% í†µì¼ ë° ë†’ì´ ë™ê¸°í™” */
:root { 
    --mango-neon: #ffaa00; 
    --unified-width: 92%; 
}

body { 
    background-color: #050505; 
    color: white; 
    font-family: 'Pretendard', sans-serif; 
    overflow-x: hidden; 
    margin: 0; 
}

/* ëª¨ë“  ì¹´ë“œí˜• ì°½ì˜ ë„ˆë¹„ë¥¼ 92%ë¡œ ê³ ì • */
.mango-container, 
#detail-modal, 
.glass, 
.banner-item {
    width: var(--unified-width) !important;
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
}

/* ë‰´ìŠ¤/ë°°ë„ˆ ì˜ì—­ì˜ ë†’ì´ë¥¼ 100pxë¡œ ë˜‘ê°™ì´ ë§ì¶¤ */
#news-track-container, 
.banner-window, 
#banner-slots,
.mango-container.glass {
    height: 100px !important;
}

        /* --- ë””ë°”ì´ìŠ¤ë³„ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì»¨íŠ¸ë¡¤ --- */
        /* [Watch ëª¨ë“œ] */
        .device-watch .carousel-view { height: 200px; transform: scale(0.8); }
        .device-watch .mango-container { max-width: 300px; }
        .device-watch .hide-on-watch { display: none; }

        /* [Glass ëª¨ë“œ] */
        .device-glass .glass { border-color: rgba(255, 170, 0, 0.5); background: rgba(0,0,0,0.2); backdrop-filter: blur(5px); }
        
        /* --- 3D íšŒì „ ê¸°êµ¬ ìˆ˜ì • --- */
.carousel-view {
    perspective: 2000px; /* ê¹Šì´ê° ì¦ê°€ */
    height: 180px; /* ë†’ì´ í™•ë³´ */
    display: flex; align-items: center; justify-content: center;
}

.carousel-pivot {
    width: 100%; height: 100%;
    position: relative;
    transform-style: preserve-3d;
    
}

/* --- í¬í„¸ ê¸°ë³¸ ìƒíƒœ (ë¹„í™œì„±) --- */
.portal-door {
    position: absolute;
    width: 160px; height: 160px;
    left: calc(50% - 80px); top: calc(50% - 80px);
    background: rgba(10, 10, 10, 0.9);
    border-radius: 40px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    backface-visibility: hidden;
    border: 1px solid rgba(255, 170, 0, 0.1);
    
    /* ë¹„í™œì„± ìƒíƒœ: ì•½ê°„ ì–´ë‘¡ê³  íë¦¬ê²Œ */
    opacity: 0.5;
    filter: grayscale(40%) blur(1px);
    transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
}

        /* --- ë²ˆì©ì„ ê°•ì¡° (Active State) --- */
        .portal-door.active {
            opacity: 1;
            filter: blur(0);
            border: 3px solid var(--mango-neon);
            box-shadow: 0 0 30px rgba(255, 170, 0, 0.4);
            transform: scale(1.0) !important;
            z-index: 10;
            animation: pulse 1.5s infinite alternate;
        }
        
        .portal-door.active::after {
            content: '';
            position: absolute; inset: -4px;
            border-radius: 34px;
            background: conic-gradient(from 0deg, transparent, var(--mango-neon), #fff, var(--mango-neon), transparent);
            animation: rotateGlow 1s linear infinite;
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude; padding: 4px;
        }
/* --- ğŸŒŸ ì¤‘ì•™ í¬í„¸ ê°•ì¡° (Active State) --- */
.portal-door.active {
    opacity: 1 !important;
    filter: grayscale(0%) blur(0) !important;
    border: 3px solid var(--mango-neon);
    
    /* ì•ìœ¼ë¡œ íŠ€ì–´ë‚˜ì˜¤ëŠ” íš¨ê³¼ + ê°•ë ¬í•œ ì¡°ëª… */
    transform: scale(1.2) translateZ(80px) !important; 
    box-shadow: 
        0 0 40px rgba(255, 170, 0, 0.7),
        0 0 80px rgba(255, 170, 0, 0.3),
        inset 0 0 20px rgba(255, 255, 255, 0.1);
    z-index: 100;
}
        @keyframes rotateGlow { 100% { transform: rotate(360deg); } }
        @keyframes pulse { from { opacity: 0.8; } to { opacity: 1; } }

        .news-track { animation: scrollUp 10s linear infinite; }
        @keyframes scrollUp { 
            0% { transform: translateY(0); } 
            100% { transform: translateY(-100%); } }
        .logo-glow { filter: drop-shadow(0 0 10px rgba(255,170,0,0.5)); }
        
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 170, 0, 0.2);
            border-radius: 16px;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.06);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
        }
        /* --- ê¸ˆê°€ë£¨ íë¥´ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì—”ì§„ --- */
@keyframes mango-shine-text {
  0% { background-position: 0% }
  100% { background-position: 200% }
}

@keyframes mango-shine-bg {
  0% { opacity: .4 }
  100% { opacity: .9 }
}
.text-metallic-gold {
  background: var(--mango-gold);
  background-size: 200%;
  animation: mango-shine-text 4s linear infinite;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}


.gold-dust-effect {
    background-size: 200% auto;
    animation: gold-shine 3s linear infinite;
    position: relative;
    overflow: hidden;
}
/* ê°€ë¡œ ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° ì „ìš© */
.no-scrollbar::-webkit-scrollbar {
    display: none;
}
.no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
/* ë°˜ì§ì´ëŠ” ì…ì íš¨ê³¼ */
.gold-dust-effect::before {
    content: '';
    position: absolute;
    top: 0; left: -100%;
    width: 50%; height: 100%;
    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.3), transparent);
    transform: skewX(-25deg);
    animation: sweep 2s infinite;
}
.pi-news-container:hover .news-track {
    animation-play-state: paused; /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ì •ì§€ */
}
/* 1. ëª¨ë‹¬ì´ ì—´ë ¸ì„ ë•Œ ë°°ê²½ ìŠ¤í¬ë¡¤ ê°„ì„­ ë°©ì§€ (ì˜¤ë²„ìŠ¤í¬ë¡¤ ë°©ì§€) */
#login-modal {
    overscroll-behavior: contain; /* ëª¨ë‹¬ ëì—ì„œ ìŠ¤í¬ë¡¤í•´ë„ ë°°ê²½ì— ì˜í–¥ ì£¼ì§€ ì•ŠìŒ */
}

/* 2. ëª¨ë‹¬ ë‚´ë¶€ ìŠ¤í¬ë¡¤ë°”ë¥¼ ì„¸ë ¨ë˜ê²Œ ìˆ˜ì • (ì„ íƒ ì‚¬í•­ì´ì§€ë§Œ ì¶”ì²œ) */
#login-modal::-webkit-scrollbar {
    width: 6px;
}
#login-modal::-webkit-scrollbar-thumb {
    background: rgba(249, 115, 22, 0.3); /* ë§ê³  ì˜¤ë Œì§€ìƒ‰ ë°˜íˆ¬ëª… */
    border-radius: 10px;
}
#login-modal::-webkit-scrollbar-track {
    background: transparent;
}

  .social-btn {
    padding: 14px;
    border-radius: 16px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.15);
    color: white;
    font-weight: bold;
    transition: all 0.2s;
  }
  .social-btn:hover {
    background: rgba(249,115,22,0.25);
    border-color: #f97316;
  }
  /* ğŸš€ ìˆ˜ì •ëœ ë°˜ì‚¬ ë° ë°”ë‹¥ íš¨ê³¼ */
.carousel-view {
    perspective: 2000px;
    height: 320px; /* ë†’ì´ë¥¼ ë” í™•ë³´í•˜ì—¬ ë°˜ì‚¬ê°€ ì˜ë¦¬ì§€ ì•Šê²Œ í•¨ */
    display: flex;
    align-items: center; 
    justify-content: center;
    position: relative;
    /* overflow: hidden; ì´ ìˆë‹¤ë©´ ë°˜ë“œì‹œ ì œê±°í•´ì•¼ ë°˜ì‚¬ê°€ ë³´ì…ë‹ˆë‹¤ */
}
/* ì¤‘ì•™ í¬í„¸ ë’¤ í›„ê´‘(Backlight) ì¶”ê°€ */
.carousel-view::before {
    content: '';
    position: absolute;
    width: 300px; height: 300px;
    background: radial-gradient(circle, rgba(255, 170, 0, 0.15) 0%, transparent 70%);
    z-index: 0;
    pointer-events: none;
}
.carousel-pivot {
    width: 100%; 
    height: 180px; 
    position: relative;
    transform-style: preserve-3d;
    /* ë°˜ì‚¬ íš¨ê³¼ë¥¼ ì¢€ ë” ì„ ëª…í•˜ê²Œ ì¡°ì • */
    -webkit-box-reflect: below 2px linear-gradient(transparent 50%, rgba(255, 255, 255, 0.2));
}

/* ë°”ë‹¥ë©´ í›„ê´‘(Glow) ìœ„ì¹˜ ì¡°ì • */
.carousel-view::after {
    content: '';
    position: absolute;
    bottom: 40px; /* ìœ„ì¹˜ë¥¼ ì•½ê°„ ìœ„ë¡œ ì¡°ì • */
    width: 250px;
    height: 40px;
    background: radial-gradient(ellipse at center, rgba(255, 170, 0, 0.4) 0%, transparent 75%);
    filter: blur(15px);
    z-index: -1;
}
/* ğŸŒŸ í•˜ì´ì—”ë“œ ê³¨ë“œ í…ìŠ¤íŠ¸ ì—”ì§„ */
.portal-door.active i, 
.portal-door.active span {
    background: linear-gradient(
        -45deg, 
        #aa771c 0%, 
        #fcf6ba 45%, 
        #ffffff 50%, 
        #fcf6ba 55%, 
        #aa771c 100%
    );
   background-size: 300% 300%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    /* ì„¬ê´‘ ì• ë‹ˆë©”ì´ì…˜ ì†ë„ ì—…! */
    animation: gold-glint 2s linear infinite, portal-bounce 2s ease-in-out infinite;
    filter: drop-shadow(0 0 12px rgba(255, 215, 0, 0.8));
    display: inline-block;
}

/* âœ¨ ë²ˆì©ì´ëŠ” ì„¬ê´‘ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes gold-glint {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ğŸš€ ì•„ì´ì½˜ ë’¤ì˜ ê°•ë ¬í•œ ìŠ¤í¬íŠ¸ë¼ì´íŠ¸ */
.portal-door.active::before {
    content: '';
    position: absolute;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, rgba(255, 215, 0, 0.4) 0%, transparent 70%);
    filter: blur(15px);
    animation: pulse-glow 1.5s infinite alternate;
}

/* ë§¥ë°•ì´ ë›°ëŠ” ë“¯í•œ ê´‘ì±„ */
@keyframes pulse-glow {
    from { transform: scale(0.8); opacity: 0.5; }
    to { transform: scale(1.3); opacity: 1; }
}

/* íŠ€ì–´ì˜¤ë¥´ëŠ” ë“¯í•œ ìƒë™ê° */
@keyframes portal-bounce {
    0%, 100% { transform: translateY(0) scale(1.1); }
    50% { transform: translateY(-12px) scale(1.15); }
}
</style> 
<div id="partner-modal" class="fixed inset-0 z-[100] hidden bg-black/95 backdrop-blur-xl flex items-start justify-center overflow-y-auto pt-4 pb-10">
    <div class="mango-container glass p-0 border-orange-500/30 relative w-full max-w-2xl overflow-hidden flex flex-col my-auto">
        <!-- Header -->
        <div class="p-5 border-b border-white/10 flex justify-between items-center bg-white/5">
            <div>
                <h3 class="text-xl font-black text-orange-400 italic tracking-tighter">MANGO PARTNER PRO</h3>
                <p class="text-[10px] text-white/40 uppercase tracking-widest">Business Growth Center</p>
            </div>
            <button onclick="closePartnerModal()" class="text-white/50 hover:text-white transition-colors">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>

        <div class="p-6 space-y-6">
            <!-- 1. Live Preview Section -->
            <div class="bg-black/40 rounded-2xl p-4 border border-white/5">
                <div class="flex justify-between items-center mb-3">
                    <p class="text-[10px] text-orange-400 font-bold uppercase tracking-widest flex items-center gap-1"><i data-lucide="eye" class="w-3 h-3"></i> Live Ad Preview</p>
                    <span class="text-[9px] text-white/30">ì‹¤ì œ ì•± ë…¸ì¶œ ì˜ˆì‹œ</span>
                </div>
                <!-- Preview Card -->
                <div class="h-[100px] flex items-center gap-4 px-5 bg-white/[0.03] border border-white/10 rounded-2xl relative overflow-hidden shadow-lg">
                    <div class="w-14 h-14 flex-shrink-0 rounded-2xl bg-zinc-800 flex items-center justify-center border border-white/20 relative overflow-hidden">
                        <span id="preview-icon" class="absolute text-3xl z-0">ğŸª</span>
                        <img id="preview-img" src="" class="absolute inset-0 w-full h-full object-cover z-10 hidden">
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span id="preview-badge" class="text-[9px] text-orange-400 font-bold border border-orange-400/50 px-2 py-0.5 rounded-full uppercase">New Store</span>
                        </div>
                        <h4 id="preview-title" class="text-[14px] font-bold text-white leading-tight truncate">ë§¤ì¥ ì´ë¦„ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</h4>
                        <p id="preview-desc" class="text-[10px] text-white/40 mt-1 truncate">í™ë³´ ë¬¸êµ¬ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</p>
                    </div>
                </div>
            </div>

            <!-- 2. Input Form -->
            <div class="grid grid-cols-1 gap-4">
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label class="text-[10px] text-white/50 font-bold mb-1 block">ì—…ì¢… ì¹´í…Œê³ ë¦¬</label>
                        <select id="ad-category" onchange="updatePreview()" class="w-full bg-white/5 border border-white/10 rounded-xl p-3 text-xs text-white outline-none focus:border-orange-500">
                            <option value="store">ì¼ë°˜ ë§¤ì¥</option>
                            <option value="food">ë§›ì§‘/ì¹´í˜</option>
                            <option value="realty">ë¶€ë™ì‚°</option>
                            <option value="service">ìƒí™œ ì„œë¹„ìŠ¤</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-[10px] text-white/50 font-bold mb-1 block">ë§¤ì¥ëª…</label>
                        <input type="text" id="ad-shop-name" oninput="updatePreview()" placeholder="ì˜ˆ: ë§ê³  ì¹´í˜" class="w-full bg-white/5 border border-white/10 rounded-xl p-3 text-xs text-white outline-none focus:border-orange-500">
                    </div>
                </div>

                <div>
                    <label class="text-[10px] text-white/50 font-bold mb-1 block">í™ë³´ ë¬¸êµ¬ (í—¤ë“œë¼ì¸)</label>
                    <input type="text" id="ad-headline" oninput="updatePreview()" placeholder="ì˜ˆ: ì˜¤í”ˆ ê¸°ë… ì•„ë©”ë¦¬ì¹´ë…¸ 1+1 í–‰ì‚¬ ì§„í–‰ì¤‘!" class="w-full bg-white/5 border border-white/10 rounded-xl p-3 text-xs text-white outline-none focus:border-orange-500">
                </div>

                <div>
                    <label class="text-[10px] text-white/50 font-bold mb-1 block">ëŒ€í‘œ ì‚¬ì§„</label>
                    <div class="relative">
                        <input type="file" id="ad-image-input" accept="image/*" onchange="handleAdImage(this)" class="hidden">
                        <label for="ad-image-input" class="flex items-center justify-center w-full h-10 border border-dashed border-white/20 rounded-xl cursor-pointer hover:bg-white/5 hover:border-orange-500/50 transition-colors">
                            <span class="text-[10px] text-white/40 flex items-center gap-2"><i data-lucide="image" class="w-3 h-3"></i> ì‚¬ì§„ ì—…ë¡œë“œ (í„°ì¹˜)</span>
                        </label>
                    </div>
                </div>

                <!-- Budget & Duration -->
                <div class="bg-gradient-to-br from-orange-500/10 to-black rounded-xl p-4 border border-orange-500/20">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-xs font-bold text-orange-400 flex items-center gap-1"><i data-lucide="coins" class="w-3 h-3"></i> ì˜ˆìƒ ë¹„ìš©</span>
                        <span class="text-lg font-black text-white" id="ad-cost">10 <span class="text-sm text-orange-400">Ï€</span></span>
                    </div>
                    <input type="range" min="1" max="30" value="1" class="w-full accent-orange-500 h-1 bg-white/10 rounded-lg appearance-none cursor-pointer" oninput="updateCost(this.value)">
                    <div class="flex justify-between text-[9px] text-white/30 mt-2 font-mono">
                        <span>1 Day</span>
                        <span id="duration-label" class="text-orange-400 font-bold">1ì¼ ë…¸ì¶œ</span>
                        <span>30 Days</span>
                    </div>
                </div>
            </div>

            <button onclick="submitAd()" class="w-full py-4 bg-gradient-to-r from-orange-500 to-yellow-500 text-black font-black rounded-2xl shadow-lg shadow-orange-500/20 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2">
                <i data-lucide="rocket" class="w-5 h-5"></i>
                ê´‘ê³  ìº í˜ì¸ ì‹œì‘í•˜ê¸°
            </button>

            <!-- Premium Upgrade Section -->
            <div class="mt-6 pt-6 border-t border-white/10">
                <button onclick="togglePremium()" class="w-full group">
                    <div class="flex items-center justify-between bg-white/5 p-4 rounded-xl border border-white/10 group-hover:border-yellow-500/50 transition-all">
                        <div class="text-left">
                            <h4 class="text-sm font-black text-yellow-400 italic flex items-center gap-2">
                                <i data-lucide="ticket" class="w-4 h-4"></i> GET PRIORITY TICKET
                            </h4>
                            <p class="text-[10px] text-white/40 mt-1">ìƒì„¸ ì •ë³´ ì…ë ¥í•˜ê³  ì§€ì—­ ê´‘ê³  ëŒ€ê¸°ì—´ ì„ ì í•˜ê¸°</p>
                        </div>
                        <i data-lucide="chevron-down" class="text-white/30 group-hover:text-yellow-400 transition-colors"></i>
                    </div>
                </button>
                
                <div id="premium-form" class="hidden mt-4 space-y-4 bg-yellow-500/5 p-4 rounded-2xl border border-yellow-500/20">
                    <div class="grid grid-cols-2 gap-3">
                        <input type="text" id="biz-phone" placeholder="ë§¤ì¥ ì „í™”ë²ˆí˜¸" class="w-full bg-black/50 border border-white/10 rounded-lg p-3 text-xs text-white outline-none focus:border-yellow-500">
                        <input type="text" id="biz-hours" placeholder="ì˜ì—… ì‹œê°„ (ì˜ˆ: 10:00~22:00)" class="w-full bg-black/50 border border-white/10 rounded-lg p-3 text-xs text-white outline-none focus:border-yellow-500">
                    </div>
                    <textarea id="biz-detail" rows="2" placeholder="ì‚¬ì¥ë‹˜ í•œë§ˆë”” (ì†ë‹˜ë“¤ì—ê²Œ ì „í•  íŠ¹ë³„í•œ ë©”ì‹œì§€)" class="w-full bg-black/50 border border-white/10 rounded-lg p-3 text-xs text-white outline-none focus:border-yellow-500 resize-none"></textarea>
                    
                    <button onclick="getTicket()" class="w-full py-3 bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-black rounded-xl shadow-[0_0_20px_rgba(250,204,21,0.3)] hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2">
                        <i data-lucide="crown" class="w-4 h-4"></i>
                        ê³¨ë“œ í‹°ì¼“ ë°œê¸‰ë°›ê¸°
                    </button>
                </div>
            </div>
        </div>

        <!-- Ticket Overlay -->
        <div id="ticket-overlay" class="absolute inset-0 z-50 bg-black/95 backdrop-blur-xl hidden flex flex-col items-center justify-center p-6 text-center">
            <div class="relative w-full max-w-sm bg-gradient-to-br from-yellow-300 via-yellow-500 to-yellow-700 rounded-3xl p-[2px] shadow-[0_0_50px_rgba(234,179,8,0.5)] transform rotate-1 hover:rotate-0 transition-transform duration-500">
                <div class="bg-black rounded-[22px] p-6 relative overflow-hidden">
                    <div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"></div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-8">
                            <span class="text-4xl">ğŸ«</span>
                            <div class="text-right">
                                <p class="text-[10px] text-yellow-500 font-bold tracking-widest">PRIORITY PASS</p>
                                <p class="text-2xl font-black text-white italic tracking-tighter">NO. 00142</p>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">MANGO AD TICKET</h3>
                        <p class="text-xs text-white/60 mb-6">ì§€ì—­ ê¸°ë°˜ ê´‘ê³  ìš°ì„  ë…¸ì¶œ ê¶Œí•œ íšë“</p>
                        <div class="border-t border-dashed border-white/20 pt-4 flex justify-between items-center">
                            <span class="text-[10px] text-white/40">DATE: 2026.01.22</span>
                            <span class="text-[10px] text-yellow-400 font-bold">VERIFIED</span>
                        </div>
                    </div>
                </div>
            </div>
            <h2 class="text-2xl font-black text-white mt-8 mb-2 animate-pulse">ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰</h2>
            <p class="text-sm text-white/60 mb-8">ëŒ€ê¸°ì ëª…ë‹¨ì— ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            <button onclick="closeTicket()" class="px-8 py-3 bg-white/10 border border-white/20 rounded-full text-white font-bold hover:bg-white/20 transition-all">í™•ì¸</button>
        </div>
    </div>
</div>
<style>
.mango-container, .glass, .banner-item, #detail-modal, #partner-modal > div, 
.food_portal, .transfer_portal, .travel_portal, .share_portal, 
.realty_portal, .market_portal, .social_portal, .admin_portal {
    width: 92% !important;
    max-width: 480px !important;
    margin: 0 auto !important;
}

#news-track-container, .banner-window, #banner-slots, .pi-news-container {
    height: 100px !important;
}
    </style>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <script>
        function lockMangoBranding() {
            const mangoTitle = "Mango Quick | Dashboard";
            const mangoIcon = "favicon.ico";

            // 1. íƒ€ì´í‹€ ê°•ì œ ê³ ì •
            if (document.title !== mangoTitle) {
                document.title = mangoTitle;
            }

            // 2. íŒŒë¹„ì½˜ ê°•ì œ ê³ ì • (ëª¨ë“  link íƒœê·¸ ê²€ì‚¬)
            let icons = document.querySelectorAll('link[rel*="icon"]');
            
            if (icons.length === 0) {
                let newIcon = document.createElement('link');
                newIcon.rel = 'icon';
                newIcon.href = mangoIcon + "?v=" + Date.now();
                document.head.appendChild(newIcon);
            } else {
                icons.forEach(icon => {
                    if (!icon.href.includes(mangoIcon)) {
                        icon.href = mangoIcon + "?v=" + Date.now();
                    }
                });
            }
        }

        // ì‹¤í–‰ ì‹œì  ë¶„ì‚°: ì¦‰ì‹œ ì‹¤í–‰ + ë¡œë“œ í›„ ì‹¤í–‰ + ë°˜ë³µ ì‹¤í–‰
        lockMangoBranding();
        window.addEventListener('load', lockMangoBranding);
        setInterval(lockMangoBranding, 500);
    </script>
</head>

<body id="main-body" class="py-6 space-y-6 bg-black text-white">

    <!-- ğŸ› ï¸ í†µí•© ì¸ì¦ & ìƒí˜¸ ìŠ¤ìº” ëª¨ë‹¬ (Integrated Auth Modal) -->
    <div id="integrated-auth-modal" class="hidden fixed inset-0 z-[10001] flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl">
        <div class="w-full max-w-[480px] bg-zinc-900 border border-yellow-500/30 rounded-[2.5rem] overflow-hidden shadow-[0_0_50px_rgba(234,179,8,0.2)]">
            
            <div class="flex bg-white/5 border-b border-white/10">
                <button onclick="switchTab('login')" class="flex-1 py-4 text-xs font-black text-yellow-500 border-b-2 border-yellow-500" id="tab-login">LOGIN</button>
                <button onclick="switchTab('my-qr')" class="flex-1 py-4 text-xs font-black text-white/40" id="tab-myqr">MY QR</button>
                <button onclick="switchTab('scan')" class="flex-1 py-4 text-xs font-black text-white/40" id="tab-scan">SCANNER</button>
            </div>

            <div class="p-8">
                <!-- 1. ë¡œê·¸ì¸ ì„¹ì…˜ -->
                <div id="auth-login-section" class="space-y-6">
                    <div class="flex justify-center gap-4 mb-4">
                        <span class="px-3 py-1 bg-yellow-500/10 border border-yellow-500/20 rounded-full text-[10px] text-yellow-500 cursor-pointer hover:bg-yellow-500/20">CONSUMER</span>
                        <span class="px-3 py-1 bg-white/5 border border-white/10 rounded-full text-[10px] text-white/40 cursor-pointer hover:bg-white/10">ADMIN</span>
                        <span class="px-3 py-1 bg-white/5 border border-white/10 rounded-full text-[10px] text-white/40 cursor-pointer hover:bg-white/10">ADVERTISER</span>
                    </div>
                    
                    <input type="text" placeholder="Email or Phone Number" class="w-full bg-white/5 border border-white/10 p-4 rounded-2xl text-white outline-none focus:border-yellow-500 transition-colors">
                    
                    <div class="grid grid-cols-5 gap-3 py-4">
                        <!-- Kakao -->
                        <button class="w-10 h-10 bg-[#FEE500] rounded-full flex items-center justify-center hover:scale-110 transition-transform overflow-hidden">
                            <span class="text-[10px] font-black text-[#3C1E1E]">TALK</span>
                        </button>
                        
                        <!-- Line -->
                        <button class="w-10 h-10 bg-[#06C755] rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/LINE_logo.svg" alt="Line" class="w-6 h-6">
                        </button>
                        
                        <!-- WeChat -->
                        <button class="w-10 h-10 bg-[#07C160] rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <i data-lucide="message-circle" class="text-white w-6 h-6"></i>
                        </button>
                        
                        <!-- Facebook -->
                        <button class="w-10 h-10 bg-[#1877F2] rounded-full flex items-center justify-center text-white hover:scale-110 transition-transform">
                            <i data-lucide="facebook" class="w-6 h-6"></i>
                        </button>
                        
                        <!-- Google -->
                        <button class="w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <img src="https://www.svgrepo.com/show/303108/google-icon-logo.svg" alt="Google" class="w-6 h-6">
                        </button>
                        
                        <!-- X (Twitter) -->
                        <button class="w-10 h-10 bg-black border border-white/20 rounded-full flex items-center justify-center text-white hover:scale-110 transition-transform">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/c/ce/X_logo_2023.svg" alt="X" class="w-5 h-5 invert">
                        </button>
                        
                        <!-- Apple -->
                        <button class="w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg" alt="Apple" class="w-5 h-5">
                        </button>
                        
                        <!-- Telegram -->
                        <button class="w-10 h-10 bg-[#0088cc] rounded-full flex items-center justify-center text-white hover:scale-110 transition-transform">
                            <i data-lucide="send" class="w-5 h-5 ml-0.5 mt-0.5"></i> 
                        </button>
                        
                        <!-- WhatsApp -->
                        <button class="w-10 h-10 bg-[#25D366] rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="w-6 h-6">
                        </button>

                        <!-- Pi Network -->
                        <button class="w-10 h-10 bg-white border border-gray-100 rounded-full flex items-center justify-center hover:scale-110 transition-transform overflow-hidden p-1 shadow-sm">
                            <img src="assets/img/pinetwork.png" alt="Pi Network" class="w-full h-full object-contain">
                        </button>
                    </div>
                </div>

                <!-- 2. My QR ì„¹ì…˜ -->
                <div id="auth-myqr-section" class="hidden text-center space-y-4">
                    <div class="bg-white p-4 rounded-3xl inline-block shadow-inner">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=PiNetwork" class="w-40 h-40">
                    </div>
                    <div onclick="copyWallet()" class="bg-white/5 border border-white/10 p-3 rounded-xl flex justify-between items-center cursor-pointer hover:bg-white/10 transition-colors">
                        <p class="text-yellow-500 font-mono text-[10px] truncate mr-2">GBHQ...WALLET_ADDRESS</p>
                        <i data-lucide="copy" class="w-4 h-4 text-white/40"></i>
                    </div>
                </div>

                <!-- 3. Scan QR ì„¹ì…˜ -->
                <div id="auth-scan-section" class="hidden">
                    <div class="relative w-full aspect-square bg-black rounded-3xl border-2 border-yellow-500/50 overflow-hidden flex items-center justify-center">
                        <div class="absolute inset-0 border-[2px] border-yellow-500 animate-pulse opacity-30"></div>
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <i data-lucide="camera" class="w-8 h-8 text-white/20 mb-2"></i>
                            <p class="text-white/40 text-xs">ì¹´ë©”ë¼ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”...</p>
                        </div>
                        <!-- ìŠ¤ìº” ë¼ì¸ ì• ë‹ˆë©”ì´ì…˜ -->
                        <div class="absolute top-0 left-0 w-full h-1 bg-yellow-500 shadow-[0_0_20px_#eab308] animate-scan"></div>
                    </div>
                    <p class="text-center text-[10px] text-white/60 mt-4">ìƒëŒ€ë°©ì˜ QR ì½”ë“œë¥¼ ì‚¬ê°í˜• ì•ˆì— ë§ì¶°ì£¼ì„¸ìš”.</p>
                </div>

                <button class="w-full py-4 bg-yellow-500 text-black font-black rounded-2xl mt-8 transition-transform active:scale-95 hover:bg-yellow-400" onclick="closeAuth()">DONE</button>
            </div>
        </div>
    </div>

    <!-- 2. Realty Modal (ê·œê²© í†µì¼ ë° ìƒë‹¨ ë°°ì¹˜) -->
    <div id="realty-modal" class="hidden fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md">
        <div class="dashboard-content w-full max-w-[480px] bg-[#0a0a0a] border border-white/10 rounded-[2.5rem] overflow-hidden transform transition-all duration-300 scale-90 opacity-0 shadow-2xl">
            <div class="p-6 border-b border-white/5 flex justify-between items-center bg-zinc-900/50">
                <h2 class="text-xl font-black text-white italic tracking-tighter">REALTY <span class="text-orange-500 text-sm">PORTAL</span></h2>
                <button onclick="closeRealty()" class="p-2 hover:bg-white/10 rounded-full text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="px-6 pb-4 pt-4">
                <div class="relative">
                    <input type="text" id="realtySearchInput" onkeyup="filterProperties()" placeholder="ë§¤ë¬¼ëª… ë˜ëŠ” ì§€ì—­ ê²€ìƒ‰..." class="w-full bg-white/5 border border-white/10 rounded-2xl py-4 pl-12 pr-4 text-white focus:outline-none focus:border-orange-500/50 transition-all">
                    <span class="absolute left-4 top-1/2 -translate-y-1/2 opacity-40">ğŸ”</span>
                </div>
            </div>
            <div id="property-list" class="p-4 max-h-[60vh] overflow-y-auto space-y-3"></div>
        </div>
    </div>

    <!-- 4. Detail Modal (ê·œê²© í†µì¼) -->
    <div id="detail-modal" class="fixed bottom-10 left-1/2 -translate-x-1/2 w-[92%] max-w-[480px] bg-zinc-950 rounded-[2.5rem] p-8 transform translate-y-[150%] transition-all duration-500 z-[9999] flex flex-col items-center ultra-heavy-neon border border-white/10">
        <div class="w-full flex justify-between items-center mb-5">
            <h2 id="modal-title" class="text-[20px] font-[1000] text-red-500 uppercase italic tracking-tighter drop-shadow-[0_0_15px_rgba(220,38,38,1)]">SYSTEM CRITICAL</h2>
            <button onclick="closeModal()" class="text-white/40 hover:text-white transition-all hover:rotate-90">
                <i data-lucide="x" class="w-8 h-8"></i>
            </button>
        </div>
        <div class="w-full h-[2px] bg-red-600 shadow-[0_0_10px_rgba(220,38,38,0.8)] mb-6"></div>
        <p id="modal-content" class="w-full text-white text-[16px] mb-10 font-black leading-tight text-center break-keep tracking-tight">ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
        <button onclick="closeModal()" class="gold-dust-effect w-full py-5 bg-gradient-to-br from-red-600 via-orange-500 to-yellow-500 text-black font-[1000] rounded-2xl text-[18px] active:scale-90 transition-all shadow-[0_10px_40px_rgba(220,38,38,0.5)] border-2 border-white/20">CONFIRM</button>
    </div>

<div class="mango-container flex justify-between items-center px-4 max-w-[480px] mx-auto">
    <div class="flex items-center gap-3">
        <div class="logo-container" style="cursor: pointer;">
            <img src="assets/img/Mango_gold.png" class="w-16 h-16 
            alt="Mango Logo" class="h-8 w-auto">
        </div>
        
        <div class="flex flex-col">
            <div class="relative inline-block cursor-pointer" onclick="adminAccess()">
                <h1 id="mango-text" 
                    class="mango-gold-power text-[34px] font-[900] tracking-tighter leading-none drop-shadow-md pr-2" 
                    style="color: #f97316; font-style: italic; margin: 0; position: relative; z-index: 10;">
                    MANGO
                </h1>
                
                <div id="gold-dust-container" 
                     class="absolute top-0 left-0 w-full h-full pointer-events-none" 
                     style="z-index: 20; overflow: hidden;"></div>
            </div>
            
            <span class="text-[8px] text-white/40 font-bold tracking-[1px] uppercase ml-1">
                .PI / ECO-SYSTEM
            </span>
        </div>
    </div>
    <div class="flex flex-col gap-2 items-end">
    <button onclick="openAuth('scan')" class="bg-zinc-900 text-white border border-white/20 rounded-lg px-3 py-2 text-xs font-bold flex items-center gap-2 hover:bg-white/10 transition-colors">
        <i data-lucide="qr-code" class="w-4 h-4 text-yellow-500"></i> <span class="text-yellow-500">QR Pay</span>
    </button>
    <select onchange="changeMode(this.value)" class="bg-zinc-900 text-[14px] text-white border border-white/20 rounded px-2 py-1 focus:outline-none w-32">
        <option value="phone">ğŸ“± Phone</option>
        <option value="watch">âŒš Watch</option>
        <option value="glass">ğŸ•¶ï¸ Glass</option>
        </select>
        <select class="bg-zinc-900 text-[12px] text-orange-400 border border-orange-500/30 rounded px-2 py-1 focus:outline-none w-32 font-bold text-center">
            <option>ğŸŒ 18 Languages</option>
            <option>ğŸŒ 18 Languages</option>
    <option>í•œêµ­ì–´ (KO)</option>
    <option>English (EN)</option>
    <option>æ—¥æœ¬èª (JA)</option>
    <option>ä¸­æ–‡ (ZH)</option>
    <option>EspaÃ±ol (ES)</option>
    <option>FranÃ§ais (FR)</option>
    <option>Deutsch (DE)</option>
    <option>Tiáº¿ng Viá»‡t (VI)</option>
    <option>Bahasa Indonesia (ID)</option>
    <option>à¹„à¸—à¸¢ (TH)</option>
    <option>Ğ ÑƒÑÑĞºĞ¸Ğ¹ (RU)</option>
    <option>PortuguÃªs (PT)</option>
    <option>Italiano (IT)</option>
    <option>TÃ¼rkÃ§e (TR)</option>
    <option>à¤¹à¤¿à¤¨à¥à¤¦à¥€ (HI)</option>
    <option>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (AR)</option>
    <option>Tagalog (TL)</option>
    <option>Melayu (MS)</option>
        </select>
    </div>
</div>

    <div class="mango-container glass px-8 py-4">
    <div class="news-ticker h-20 overflow-hidden text-[18px] text-yellow-400 font-black italic tracking-tight">
        <div class="news-track">
            <p class="h-12 flex items-center">ìµœì´ˆì˜ ë””ì§€í„¸ í™”í Ï€: Pi Network</p>
            <p class="h-12 flex items-center">Ï€ NETWORK: ì§€ì—­ ìƒì  ê²°ì œ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸</p>
            <p class="h-12 flex items-center">Ï€ NETWORK: ì°¨ì›ì„ ë„˜ëŠ” ë¯¸ì‹ ì—¬í–‰ MANGO</p>
            <p class="h-12 flex items-center">PI NETWORK: ë‹¤ìš´ë¡œë“œ 1ì–µíšŒ ëŒíŒŒ! ë ›ì¸  ê³ </p>
            <p class="h-12 flex items-center">ë¶ë¯¸ ì¢…ì „ ì„ ì–¸ ë² íŠ¸ë‚¨ì—ì„œ?</p>
            <p class="h-12 flex items-center">KBS News F-35íƒ‘ì¬ USAí•­ëª¨ì „ë‹¨ ì¸ë„ì–‘ ë„ì°©, ì´ë€"ì „ë©´ì „ ë¶ˆì‚¬"</p>
            <p class="h-12 flex items-center">ì¤‘êµ­ 1700ì¡°ì› ì „ëŒ€ë¯¸ë¬¸ í‘ì ê¸°ë¡/ê´€ì„¸ ë®ì€ ì¤‘êµ­ ê·¸ë¬¼...ë¬´ì—­ í­í’ì „ì•¼ KBS MEWS</p>  
        </div>
    </div>
</div>


<div class="mango-container mb-10 overflow-hidden rounded-[2.5rem] relative">
    <div class="absolute inset-0 z-0">
        <img src="https://images.unsplash.com/photo-1513151233558-d860c5398176?w=800" class="w-full h-full object-cover opacity-20">
        <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-black/40 to-black/80"></div>
    </div>

    <div class="relative z-10 p-4">
        <div class="flex justify-between items-center mb-4 px-1">
            <h3 class="text-[14px] font-black text-yellow-500 tracking-widest uppercase flex items-center gap-2">
                <i data-lucide="sparkles" class="w-4 h-4 text-yellow-400"></i>
                Premium Selection
            </h3>
            <span class="text-[10px] text-white/30 font-bold uppercase tracking-tighter">Special Flirting</span>
        </div>

        <div class="relative h-[100px] overflow-hidden rounded-2xl bg-white/[0.03] backdrop-blur-md border border-white/10 shadow-2xl">
            <div id="premiumRollingBoard" class="absolute w-full transition-all duration-700 ease-in-out">
                
              <div class="h-[100px] flex items-center gap-4 px-5 cursor-pointer hover:bg-white/5" onclick="openAdVideo('hospital')">
    <div class="w-14 h-14 flex-shrink-0 bg-blue-500/20 rounded-2xl flex items-center justify-center border border-blue-400/30 relative overflow-hidden">
        
        <span class="absolute text-3xl opacity-50">ğŸ©º</span>

        <img src="assets/img/dental.png" 
             onerror="this.src='https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=200'; this.onerror=function(){this.style.opacity='0'};" 
             alt="ë§ê³ ì¹˜ê³¼" 
             class="absolute inset-0 w-full h-full object-cover z-10"
             onload="this.style.opacity='1'">
             
    </div>
    <div class="flex-1">
        <div class="flex items-center gap-2 mb-1">
            <span class="text-[9px] text-blue-400 font-bold border border-blue-00/50 px-2 py-0.5 rounded-full uppercase">Exclusive Ï€ Benefit</span>
        </div>
        <h4 class="text-[14px] font-bold text-white leading-tight">"ë§ê³ ì¹˜ê³¼: ì˜¤ìŠ¤í…œ ì„í”Œë€íŠ¸ Ï€ ê²°ì œ ì‹œ 10% í• ì¸ê°€"</h4>
        <p class="text-[10px] text-white/40 mt-1">ê³¼ì‰ì§„ë£Œ ì—†ëŠ” ì •ì§í•œ í”ŒëŸ¬íŒ… Â· ë‹¹ì¼ ì˜ˆì•½ì œ ìš´ì˜</p>
    </div>
</div>

<div class="h-[100px] flex items-center gap-4 px-5 cursor-pointer hover:bg-white/5 transition-all" onclick="openAdVideo('bakery')">
    <div class="w-14 h-14 flex-shrink-0 rounded-2xl bg-gradient-to-br from-orange-400 to-orange-700 flex items-center justify-center border border-orange-400/50 shadow-lg relative overflow-hidden">
        <span class="absolute text-3xl">ğŸ¥</span>
        <img src="assets/img/bread.png" 
             onerror="this.src='assets/img/bread.jpg'; this.onerror=function(){this.src='https://images.unsplash.com/photo-1608198093002-ad4e005484ec?w=200'; this.onerror=function(){this.style.opacity='0'};};" 
             alt="ë§ê³ ë¸Œë ˆë“œ" 
             class="absolute inset-0 w-full h-full object-cover z-10">
    </div>
    <div class="flex-1">
        <div class="flex items-center gap-2 mb-1">
            <span class="text-[9px] text-orange-400 font-bold border border-orange-400/50 px-2 py-0.5 rounded-full uppercase">Daily Fresh 14:00</span>
        </div>
        <h4 class="text-[14px] font-bold text-white leading-tight">"ë§ê³ ë¸Œë ˆë“œ: ëª…ì¥ ì†Œê¸ˆë¹µ 14ì‹œ ê°“ êµ¬ì›Œì ¸ ë‚˜ì˜µë‹ˆë‹¤"</h4>
        <p class="text-[10px] text-white/40 mt-1">ë§¤ì¼ í•œì • 50ê°œ Â· ê²°ì œ ê¸ˆì•¡ì˜ 10% Ï€ ì ë¦½</p>
    </div>
</div>

<div class="h-[100px] flex items-center gap-4 px-5 cursor-pointer hover:bg-white/5" onclick="openAdVideo('kindergarten')">
    <div class="w-14 h-14 flex-shrink-0 bg-emerald-500/20 rounded-xl flex items-center justify-center border border-emerald-400/30">
        <span class="text-3xl">ğŸŒ¸</span>
    </div>
    <div class="flex-1">
        <div class="flex items-center gap-2 mb-1">
            <span class="text-[9px] text-emerald-400 font-bold border border-emerald-400/50 px-2 py-0.5 rounded-full uppercase">Spring Season / March</span>
        </div>
        <h4 class="text-[14px] font-bold text-white leading-tight">"ë§ê³ ìœ ì¹˜ì›: 2026í•™ë…„ë„ ì‹ ì…ìƒ ëª¨ì§‘ ì¤‘"</h4>
        <p class="text-[10px] text-white/40 mt-1">ì•„ì´ë“¤ì˜ ê¿ˆì´ ìë¼ëŠ” ê³µê°„ Â· Ï€ ê²°ì œ ì›ë¹„ í• ì¸</p>
    </div>
</div>

<div class="h-[100px] flex items-center gap-4 px-5 cursor-pointer hover:bg-white/5 transition-all" onclick="openAdVideo('mobile')">
    <div class="w-14 h-14 flex-shrink-0 rounded-2xl bg-gradient-to-br from-zinc-700 to-black flex items-center justify-center border border-white/20 shadow-lg relative overflow-hidden">
        <span class="absolute text-3xl">ğŸ“±</span>
        <img src="assets/img/phone.png" 
             onerror="this.src='assets/img/phone.jpg'; this.onerror=function(){this.src='https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=200'; this.onerror=function(){this.style.opacity='0'};};" 
             alt="ë§ê³ ëª¨ë°”ì¼" 
             class="absolute inset-0 w-full h-full object-cover z-10">
             
        <div class="absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent z-20 pointer-events-none"></div>
    </div>
    <div class="flex-1">
        <div class="flex items-center gap-2 mb-1">
            <span class="text-[9px] text-red-500 font-bold border border-red-500/50 px-2 py-0.5 rounded-full uppercase tracking-tighter">SK Â· KT Â· LG U+</span>
        </div>
        <h4 class="text-[14px] font-bold text-white leading-tight">"ë§ê³  ëª¨ë°”ì¼: íŒŒì´(Ï€)ë¡œ ê°€ì… ì‹œ ìµœì‹  ê¸°ê¸°ê°’ 0ì›"</h4>
        <p class="text-[10px] text-white/40 mt-1">í†µì‹  3ì‚¬ ë²ˆí˜¸ì´ë™ ìµœëŒ€ ì§€ì› Â· ì‚¬ì€í’ˆ ì¦ì •</p>
    </div>
</div>

<div class="h-[100px] flex items-center gap-4 px-5 cursor-pointer hover:bg-white/5 transition-all">
    <div class="w-14 h-14 flex-shrink-0 rounded-2xl bg-gradient-to-br from-amber-400 to-amber-700 flex items-center justify-center border border-amber-400/50 shadow-lg relative overflow-hidden">
        <span class="absolute text-3xl">ğŸº</span>
        <img src="assets/img/kirin.png" 
             onerror="this.src='assets/img/kirin.jpg'; this.onerror=function(){this.src='https://images.unsplash.com/photo-1612528443702-f6741f70a049?w=200'; this.onerror=function(){this.style.opacity='0'};};" 
             alt="ê¸°ë¦° ë§¥ì£¼" 
             class="absolute inset-0 w-full h-full object-cover z-10">
    </div>
    <div class="flex-1">
        <div class="flex items-center gap-2 mb-1">
            <span class="text-[9px] text-amber-400 font-bold border border-amber-400/50 px-2 py-0.5 rounded-full uppercase">Mango Mart Only</span>
        </div>
        <h4 class="text-[14px] font-bold text-white leading-tight">"ê¸°ë¦° ì´ì¹˜ë°© 500ml 4ìº” 9,800ì› íŠ¹ê°€"</h4>
        <p class="text-[10px] text-white/40 mt-1">ë§ê³ ë§ˆíŠ¸ ë³¸ì  Â· íŒŒì´ê²°ì œ ì‹œ 5% ì¶”ê°€ ì ë¦½</p>
    </div>
</div>

<div class="h-[100px] flex items-center gap-4 px-5 cursor-pointer hover:bg-white/5">
    <div class="w-14 h-14 flex-shrink-0 bg-red-500/20 rounded-2xl flex items-center justify-center border border-red-400/30">
        <span class="text-3xl">ğŸ¥©</span>
    </div>
    <div class="flex-1">
        <div class="flex items-center gap-2 mb-1">
            <span class="text-[9px] text-red-400 font-bold border border-red-400/50 px-2 py-0.5 rounded-full uppercase">Butcher's Cut</span>
        </div>
        <h4 class="text-[14px] font-bold text-white leading-tight">"íš¡ì„± í•œìš° 1++ ë“±ì‹¬ êµ¬ì´ìš© 20% í• ì¸"</h4>
        <p class="text-[10px] text-white/40 mt-1">ë§ê³ ë§ˆíŠ¸ ì •ìœ¡ì½”ë„ˆ Â· ë‹¹ì¼ ë„ì¶• ë¬¼ëŸ‰ í•œì •</p>
    </div>
</div>

<div class="h-[100px] flex items-center gap-4 px-5 cursor-pointer hover:bg-white/5 transition-all">
    <div class="w-14 h-14 flex-shrink-0 rounded-2xl bg-gradient-to-br from-red-600 to-red-900 flex items-center justify-center border border-red-400/50 shadow-lg shadow-red-900/40 relative overflow-hidden">
        
        <span class="absolute text-3xl">ğŸ¥¬</span>

        <img src="assets/img/kimchi.png" 
             onerror="this.src='assets/img/kimchi.jpg'; this.onerror=function(){this.src='https://cdn.pixabay.com/photo/2014/01/09/10/39/kimchi-241047_1280.jpg'; this.onerror=function(){this.style.opacity='0'};};" 
             alt="ì¢…ê°€ì§‘ ê¹€ì¹˜" 
             class="absolute inset-0 w-full h-full object-cover z-10">
             
        <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/asfalt-dark.png')] z-20 pointer-events-none"></div>
    </div>
    
    <div class="flex-1">
        <div class="flex items-center gap-2 mb-1">
            <span class="text-[9px] text-red-400 font-bold border border-red-400/50 px-2 py-0.5 rounded-full uppercase tracking-tighter">Fresh K-Food</span>
        </div>
        <h4 class="text-[14px] font-bold text-white leading-tight">"ì¢…ê°€ì§‘ ì „ë¼ë„ í¬ê¸°ê¹€ì¹˜ 3.3kg íŠ¹ê°€"</h4>
        <p class="text-[10px] text-white/40 mt-1 italic">ë§ê³ ë§ˆíŠ¸ ì‚°ì§€ì§ì†¡ Â· 32.5 Ï€ ê²°ì œ ê°€ëŠ¥</p>
    </div>
</div>
            </div> <!-- End of premiumRollingBoard -->
        </div> <!-- End of relative h-[100px] -->
    </div>
</div>



<script>

// --- [2026-02-04] í†µí•© ì¸ì¦ & ìƒí˜¸ ìŠ¤ìº” ëª¨ë‹¬ ì œì–´ ---
function openAuth(tab = 'login') {
    const modal = document.getElementById('integrated-auth-modal');
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ì ê¸ˆ
    switchTab(tab);
}

function closeAuth() {
    document.getElementById('integrated-auth-modal').classList.add('hidden');
    document.body.style.overflow = 'auto'; // ë°°ê²½ ìŠ¤í¬ë¡¤ í•´ì œ
}

function switchTab(tab) {
    // ì„¹ì…˜ ìˆ¨ê¸°ê¸°
    document.getElementById('auth-login-section').classList.add('hidden');
    document.getElementById('auth-myqr-section').classList.add('hidden');
    document.getElementById('auth-scan-section').classList.add('hidden');

    // íƒ­ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
    ['login', 'myqr', 'scan'].forEach(t => {
        const btn = document.getElementById(`tab-${t}`);
        btn.className = "flex-1 py-4 text-xs font-black text-white/40 transition-colors";
    });

    // ì„ íƒëœ ì„¹ì…˜ ë³´ì´ê¸° & íƒ­ í™œì„±í™”
    if (tab === 'login') {
        document.getElementById('auth-login-section').classList.remove('hidden');
        document.getElementById('tab-login').className = "flex-1 py-4 text-xs font-black text-yellow-500 border-b-2 border-yellow-500 transition-colors";
    } else if (tab === 'my-qr') {
        document.getElementById('auth-myqr-section').classList.remove('hidden');
        document.getElementById('tab-myqr').className = "flex-1 py-4 text-xs font-black text-yellow-500 border-b-2 border-yellow-500 transition-colors";
    } else if (tab === 'scan') {
        document.getElementById('auth-scan-section').classList.remove('hidden');
        document.getElementById('tab-scan').className = "flex-1 py-4 text-xs font-black text-yellow-500 border-b-2 border-yellow-500 transition-colors";
        // ì¹´ë©”ë¼ ê¶Œí•œ ìš”ì²­ ì‹œë®¬ë ˆì´ì…˜
        setTimeout(() => {
            // ì‹¤ì œ êµ¬í˜„ ì‹œ navigator.mediaDevices.getUserMedia ì‚¬ìš©
            console.log("Camera scanning started...");
        }, 500);
    }
}

function copyWallet() {
    const addr = document.getElementById('pi-address').innerText;
    navigator.clipboard.writeText(addr);
    alert("ì§€ê°‘ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. íŒŒì´ ë¸Œë¼ìš°ì €ì—ì„œ ê²°ì œí•´ì£¼ì„¸ìš”! ğŸ¥­");
}

function requestConfirm() {
    alert("ê²°ì œ í™•ì¸ ìš”ì²­ì´ ì‚¬ì¥ë‹˜ê»˜ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤. í™•ì¸ í›„ ìŠ¹ì¸í•´ ë“œë¦´ê²Œìš”!");
}

    // í”„ë¦¬ë¯¸ì—„ ë¡¤ë§ ë³´ë“œ ì œì–´
    (function() {
        let currentSlide = 0;
        const board = document.getElementById('premiumRollingBoard');
        const totalSlides = 7; 

        if (board) {
            setInterval(() => {
                currentSlide = (currentSlide + 1) % totalSlides;
                board.style.top = `-${currentSlide * 100}px`;
            }, 4000);
        }
    })();
    // ìƒë‹´ ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
function openAdVideo(type) {
    const modal = document.getElementById('consult-modal');
    const title = document.getElementById('consult-title');
    const icon = document.getElementById('consult-icon');
    
    // ê´‘ê³  íƒ€ì…ì— ë”°ë¥¸ ë‚´ìš© ë³€ê²½
    if(type === 'sk-local') {
        title.innerText = "SK ê³µì‹ ëŒ€ë¦¬ì  ìƒë‹´";
        icon.innerText = "ğŸ“±";
    } else if(type === 'hospital') {
        title.innerText = "ì¹˜ê³¼ ì§„ë£Œ ì˜ˆì•½ ë¬¸ì˜";
        icon.innerText = "ğŸ©º";
    } else if(type === 'bakery') {
        title.innerText = "ë¹µì§‘ ì˜ˆì•½/ë¬¸ì˜";
        icon.innerText = "ğŸ¥";
    }

    modal.classList.remove('hidden');
}

function closeConsultModal() {
    document.getElementById('consult-modal').classList.add('hidden');
}

// ì‚¬ì¡°ë‹˜ê»˜ ì „ì†¡ ì‹œë®¬ë ˆì´ì…˜
function submitConsult() {
    const msg = document.getElementById('consult-message').value;
    if(!msg) {
        alert("ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”!");
        return;
    }
    
    alert("ğŸš€ [ì „ì†¡ ì™„ë£Œ]\nì‚¬ì¥ë‹˜ê»˜ ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nê³§ ë‹µë³€ì´ ë„ì°©í•  ì˜ˆì •ì…ë‹ˆë‹¤.");
    closeConsultModal();
    document.getElementById('consult-message').value = ""; // ì´ˆê¸°í™”
}
// --- [2026-01-19 ê³ ë„í™”: ê±°ë¦¬ í•„í„° ì—”ì§„] ---
function filterByDistance(km) {
    // 1. ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½
    const btns = document.querySelectorAll('.distance-btn');
    btns.forEach(btn => {
        btn.classList.remove('bg-orange-500', 'text-black');
        btn.classList.add('bg-white/5', 'text-white/60');
    });
    
    // í´ë¦­ëœ ë²„íŠ¼ í™œì„±í™”
    event.target.classList.add('bg-orange-500', 'text-black');
    event.target.classList.remove('bg-white/5', 'text-white/60');

    // 2. í•„í„°ë§ ì•Œë¦¼ ì‹œë®¬ë ˆì´ì…˜ (ì¶”í›„ ì‹¤ì œ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ì—°ë™)
    if(km === 'all') {
        alert("ğŸ“ ì „ì²´ ì§€ì—­ì˜ í”„ë¦¬ë¯¸ì—„ ê´‘ê³ ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.");
    } else {
        alert(`ğŸ“ ë‚´ ìœ„ì¹˜ ê¸°ì¤€ ${km}km ì´ë‚´ì˜ ë§¤ì¥ ê´‘ê³ ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.`);
        // ì—¬ê¸°ì„œ ì‹¤ì œë¡œ ê´‘ê³  ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆ¨ê¸°ê±°ë‚˜ ë³´ì—¬ì£¼ëŠ” ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    }
}

/* =========================================
   [2026-01-19 Update] Realty Portal System
   ========================================= */
// ì—¬ê¸°ì„œë¶€í„°ëŠ” ë³´ë‚´ì£¼ì‹  Realty ê´€ë ¨ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
/* ... ìƒëµ ... */
// ğŸ‘† ì—¬ê¸°ê¹Œì§€ê°€ ê¸°ì¡´ ì½”ë“œì…ë‹ˆë‹¤.

// ğŸ‘‡ ì—¬ê¸°ì„œë¶€í„° ì•„ë˜ ë‚´ìš©ì„ ì „ë¶€ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!

/* =========================================
   [2026-01-19 Update] Realty Portal System
   ========================================= */

// 1. ê°€ì§œ ë§¤ë¬¼ ë°ì´í„° (ë°±ì—”ë“œ ì—°ë™ ì „ ì‹œë®¬ë ˆì´ì…˜ìš©)
if (typeof window.mockProperties === 'undefined') {
    window.mockProperties = [
        {
            id: 1,
            title: "í•œë‚¨ ë” í (Hannames The Hill)",
            location: "Seoul, Yongsan-gu",
            price_pi: 1500,
            price_krw: "35ì–µ",
            trust_score: 98, // ë§¤ìš° ë†’ìŒ (Hot)
            image: "https://images.unsplash.com/photo-1600596542815-e3289893d6ee?w=400",
            tags: ["Verified Owner", "Safe Trade"]
        },
        {
            id: 2,
            title: "í•´ìš´ëŒ€ ì—˜ì‹œí‹° (LCT)",
            location: "Busan, Haeundae",
            price_pi: 890,
            price_krw: "18ì–µ",
            trust_score: 85, // ì•ˆì „ (Warm)
            image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=400",
            tags: ["Sea View"]
        },
        {
            id: 3,
            title: "í—ˆìœ„ ë§¤ë¬¼ ì˜ì‹¬ ë¹Œë¼",
            location: "Unknown Area",
            price_pi: 10,
            price_krw: "1ì–µ",
            trust_score: 20, // ìœ„í—˜ -> í•„í„°ë§ë˜ì–´ ì•ˆ ë³´ì„
            image: ""
        }
    ];
}

// 2. Realty í¬í„¸ ì§„ì… í•¨ìˆ˜ (ì¤Œì¸ íš¨ê³¼)
function openRealty() {
    const modal = document.getElementById('realty-modal');
    const listContainer = document.getElementById('property-list');
    
    // ëª¨ë‹¬ í‘œì‹œ
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ì ê¸ˆ
    
    // í•œë‚¨ ë” í ì‚¬ì§„ì´ í¬í•¨ëœ 92% ê·œê²© ì¹´ë“œ ì£¼ì…
    listContainer.innerHTML = `
        <div class="bg-zinc-800/50 rounded-[2rem] border border-white/10 overflow-hidden mb-5 transition-all hover:border-orange-500/50">
            <div class="relative h-44 w-full">
                <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800" 
                     class="w-full h-full object-cover" alt="Hannam THE HILL">
                <div class="absolute top-4 right-4 bg-orange-500 text-white text-[10px] font-black px-3 py-1 rounded-full shadow-lg">
                    PREMIUM
                </div>
            </div>
            <div class="p-6">
                <div class="flex justify-between items-center mb-2">
                    <h4 class="text-white text-lg font-bold">í•œë‚¨ ë” í</h4>
                    <span class="text-orange-500 font-black italic">8,500 Ï€</span>
                </div>
                <p class="text-white/40 text-xs leading-relaxed">
                    ëŒ€í•œë¯¼êµ­ ìµœê³ ì˜ í•˜ì´ì—”ë“œ ì£¼ê±° ë‹¨ì§€. íŒŒì´ ìƒíƒœê³„ íŠ¹ë³„ ë§¤ë¬¼.
                </p>
            </div>
        </div>
    `;

    // ë¶€ë“œëŸ¬ìš´ ì¤Œì¸ ì• ë‹ˆë©”ì´ì…˜
    setTimeout(() => {
        const content = modal.querySelector('.dashboard-content');
        content.classList.remove('scale-90', 'opacity-0');
        content.classList.add('scale-100', 'opacity-100');
    }, 10);
}

// 3. Realty í¬í„¸ ë‹«ê¸° í•¨ìˆ˜ (ì¤Œì•„ì›ƒ íš¨ê³¼)
function closeRealty() {
    const modal = document.getElementById('realty-modal');
    const content = modal.querySelector('.dashboard-content');
    
    // ì¤Œì•„ì›ƒ ì• ë‹ˆë©”ì´ì…˜
    content.classList.remove('scale-100', 'opacity-100');
    content.classList.add('scale-90', 'opacity-0');
    
    // ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚œ í›„(0.3ì´ˆ ë’¤) ëª¨ë‹¬ ìˆ¨ê¹€
    setTimeout(() => {
        modal.classList.add('hidden');
        document.body.style.overflow = 'auto'; // ë°°ê²½ ìŠ¤í¬ë¡¤ í•´ì œ
    }, 300);
}


// 4. ë§¤ë¬¼ ë°ì´í„° ë¡œë“œ ë° ë Œë”ë§ (ì˜¨ë„ ì‹œê°í™” í¬í•¨)
function loadRealtyData() {
    const listContainer = document.getElementById('property-list');
    if (!listContainer) return; // ì—ëŸ¬ ë°©ì§€
    
    listContainer.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”

    // Trust Score 50ì  ì´ìƒë§Œ í•„í„°ë§ (í—ˆìœ„ë§¤ë¬¼ ì°¨ë‹¨)
    const verifiedList = mockProperties.filter(p => p.trust_score > 50);

    verifiedList.forEach(p => {
        // ì ìˆ˜ì— ë”°ë¥¸ ìƒ‰ìƒ ê²°ì •
        let tempColor = p.trust_score >= 90 ? 'text-red-500' : 'text-orange-400';
        let borderColor = p.trust_score >= 90 ? 'border-red-500/50' : 'border-blue-500/30';
        let glowEffect = p.trust_score >= 90 ? 'shadow-[0_0_15px_rgba(239,68,68,0.3)]' : '';

        const card = `
            <div onclick="openPropertyDetail(${p.id})" class="flex justify-between items-center p-4 bg-white/5 rounded-2xl border ${borderColor} ${glowEffect} mb-3 cursor-pointer active:scale-95 transition-all">
                <div class="flex items-center gap-4">
                    <div class="w-16 h-16 rounded-xl bg-black/50 overflow-hidden flex-shrink-0">
                        <img src="${p.image}" class="w-full h-full object-cover">
                    </div>
                    <div class="flex flex-col">
                        <span class="text-white font-bold text-sm leading-tight">${p.title}</span>
                        <span class="text-white/40 text-[10px] mt-1">${p.location}</span>
                        <div class="flex items-center gap-1 mt-1">
                            <span class="${tempColor} text-[10px] font-black">${p.trust_score}Â°C</span>
                            <div class="w-12 h-1 bg-white/10 rounded-full overflow-hidden">
                                <div class="h-full bg-gradient-to-r from-blue-500 via-orange-400 to-red-500" style="width: ${p.trust_score}%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-right flex flex-col items-end">
                    <span class="text-yellow-500 font-black text-sm">${p.price_pi} Ï€</span>
                    <span class="text-white/30 text-[9px]">${p.price_krw}</span>
                </div>
            </div>
        `;
        listContainer.insertAdjacentHTML('beforeend', card);
    });
    
    // ì•„ì´ì½˜ ìƒˆë¡œê³ ì¹¨
    if(window.lucide) window.lucide.createIcons();
}

// --- CEO Security Logic ---
let pendingPortalAction = null;

function requestPortalSwitch(portalId, targetState) {
    if (targetState === 'ON') {
        pendingPortalAction = { portalId, state: 'ON' };
        document.getElementById('ceo-auth-modal').classList.remove('hidden');
        document.getElementById('ceo-key').value = '';
        document.getElementById('final-confirm').checked = false;
    } else {
        if (confirm("ì„œë¹„ìŠ¤ë¥¼ ì¤‘ë‹¨í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            executePortalSwitch(portalId, 'OFF');
        }
    }
}

function cancelAuth() {
    document.getElementById('ceo-auth-modal').classList.add('hidden');
    pendingPortalAction = null;
}

function verifyCeoAuth() {
    const key = document.getElementById('ceo-key').value;
    const confirmed = document.getElementById('final-confirm').checked;

    if (key === "MANGO-CEO-2026" && confirmed) {
        executePortalSwitch(pendingPortalAction.portalId, 'ON');
        document.getElementById('ceo-auth-modal').classList.add('hidden');
        alert("ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. í¬í„¸ì´ ì „ ì„¸ê³„ì— ê°œë°©ë©ë‹ˆë‹¤.");
        pendingPortalAction = null;
    } else {
        alert("ì¸ì¦ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šê±°ë‚˜ ì±…ì„ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");
    }
}

function executePortalSwitch(portalId, state) {
    console.log(`Portal ${portalId} switched to ${state}`);
    // ì‹¤ì œ í¬í„¸ í™œì„±í™”/ë¹„í™œì„±í™” ë¡œì§ (ì¶”í›„ êµ¬í˜„)
}

pressTimer = null;
function startPress() {
    pressTimer = window.setTimeout(function() {
        const gate = document.getElementById('ceo-gate-modal');
        if(gate) gate.classList.remove('hidden');
    }, 3000); 
}
function cancelPress() {
    clearTimeout(pressTimer);
}
</script>
    </div>
    </div>

<div class="mango-container mb-8">
    <div class="swiper main-banner"></div>
</div>            </p>
    </div>

    <div id="main-banner" class="mango-container glass h-28 relative overflow-hidden hide-on-watch mb-4">
    <div id="banner-slots" class="relative w-full h-full"></div>
        </div>

    <div class="mango-container carousel-view" id="swipe-area">
        <div class="carousel-pivot" id="pivot"></div>
    </div>
    
<div class="mango-container mb-6">
    <div class="glass p-4 border-2 border-orange-500/50 relative overflow-hidden group">
        <div class="absolute top-0 right-0 p-2">
            <span class="bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-full animate-pulse">HOT TIME</span>
        </div>
        
        <div class="flex items-center gap-4">
            <div class="w-20 h-20 flex-shrink-0 rounded-2xl overflow-hidden border border-white/10 bg-zinc-800">
                <img src="https://images.unsplash.com/photo-1608198093002-ad4e005484ec?w=400" 
                     alt="ì†Œê¸ˆë¹µ" 
                     class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
            </div>

            <div class="flex-1">
                <h4 class="text-orange-400 text-[11px] font-bold uppercase tracking-widest">íŒŒë¦¬ë°”ê²Œëœ¨ - í•´ìš´ëŒ€ì—­ì </h4>
                <p class="text-white font-bold text-[16px]">ê°“ êµ¬ìš´ ì†Œê¸ˆë¹µ 1+1 ì¿ í°</p>
                <div class="flex items-center gap-2 mt-2">
                    <i data-lucide="clock" class="w-3 h-3 text-red-500"></i>
                    <span id="time-attack-timer" class="text-red-500 font-mono font-bold text-lg">29:59</span>
                    <span class="text-[10px] text-white/50">ë‚¨ìŒ</span>
                </div>
            </div>

            <div class="flex flex-col items-center gap-2">
                <button onclick="claimCoupon()" class="bg-orange-500 hover:bg-orange-600 text-black font-bold px-5 py-2 rounded-xl text-sm transition-all shadow-lg shadow-orange-500/20 active:scale-95">
                    ë°›ê¸°
                </button>
                <span class="text-[9px] text-orange-400/80 font-medium whitespace-nowrap tracking-tighter">
                    ğŸ“ ë‚´ ìœ„ì¹˜ì—ì„œ 4.2km
                </span>
            </div>
        </div>
    </div>
</div>

<section class="w-full max-w-[450px] mx-auto mt-8 px-4 pb-24">
    <div class="mb-5 pl-1">
        <h2 class="text-sm font-black text-white flex items-center gap-2">
            <span class="text-orange-500 animate-pulse">ğŸ”¥</span> 
            ì§€ì—­ ê¸°ë°˜ ë§ì¶¤ í”¼ë“œ <span class="text-yellow-500 text-[10px] font-orbitron">(ğŸ‘‘NEW 20ğŸ‘‘)</span>
        </h2>
    </div>

    <div class="relative group p-[2px] rounded-[2.5rem] overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.7)] bg-[#1a1a1a]">
        
        <div class="absolute inset-0 metallic-shimmer"></div>
        
        <div class="relative z-10 bg-[#0a0a0a] rounded-[2.4rem] p-5">
            <div class="grid grid-cols-2 gap-4">
                
                <!-- ì „í¬ ì—°í™”ë‹¹ -->
                <div class="relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/5 bg-[#151515]">
                    <img src="https://images.unsplash.com/photo-1559339352-11d035aa65de?w=200" 
                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-orange-500 text-black px-1.5 py-0.5 rounded font-black mb-1 inline-block">DINING</span>
                        <h3 class="text-xs font-black text-white">ì „í¬ ì—°í™”ë‹¹</h3>
                        <p class="text-[9px] text-gray-400">ê°œí™”ê¸° ì»¨ì…‰ ë””ì €íŠ¸ ì¹´í˜</p>
                    </div>
                </div>

                <!-- ì„œë©´ ë³„í•œìŠ¤í‘¼ -->
                <div class="group relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/10 bg-gray-900">
                    <img src="https://images.unsplash.com/photo-1531346878377-a5be20888e57?w=200" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-cyan-500 text-white px-1.5 py-0.5 rounded font-black mb-1 inline-block">SHOP</span>
                        <h3 class="text-xs font-black text-white">ì„œë©´ ë³„í•œìŠ¤í‘¼</h3>
                        <p class="text-[9px] text-gray-400">ì•„ê¸°ìê¸°í•œ ì†Œí’ˆ ì²œêµ­</p>
                    </div>
                </div>

                <!-- ìƒ¤ë¸Œ20 ì„œë©´ì  -->
                <div class="group relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/10 bg-gray-900">
                    <img src="./assets/img/shabu.jpg" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-amber-500 text-white px-1.5 py-0.5 rounded font-black mb-1 inline-block">PREMIUM</span>
                        <h3 class="text-xs font-black text-white">ìƒ¤ë¸Œ20 ì„œë©´ì </h3>
                        <p class="text-[9px] text-gray-400">Ï€ Pay 10% Off</p>
                    </div>
                </div>

                <!-- ë¡¯ë°ì¼€ìŠ¬ ë¼ì„¼íŠ¸ -->
                <div class="group relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/10 bg-gray-900">
                    <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=200" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-blue-500 text-white px-1.5 py-0.5 rounded font-black mb-1 inline-block">LUXURY</span>
                        <h3 class="text-xs font-black text-white">ë¡¯ë°ì¼€ìŠ¬ ë¼ì„¼íŠ¸</h3>
                        <p class="text-[9px] text-gray-400">ë¡œì–„ë™ ê¸‰ë§¤ë¬¼</p>
                    </div>
                </div>

                <!-- ì„œìš¸ ì—°ì„¸ ë‚´ê³¼ -->
                <div class="group relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/10 bg-gray-900">
                    <img src="https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=200" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-rose-500 text-white px-1.5 py-0.5 rounded font-black mb-1 inline-block">CARE</span>
                        <h3 class="text-xs font-black text-white">ì„œìš¸ ì—°ì„¸ ë‚´ê³¼</h3>
                        <p class="text-[9px] text-gray-400">ì •ì§í•œ ì§„ë£Œ ì‹œìŠ¤í…œ</p>
                    </div>
                </div>

                <!-- ë¶€ì‚° ì‹œë¯¼ê³µì› -->
                <div class="group relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/10 bg-gray-900">
                    <img src="https://images.unsplash.com/photo-1585938389612-a552a28d6914?w=200" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-purple-500 text-white px-1.5 py-0.5 rounded font-black mb-1 inline-block">NATURE</span>
                        <h3 class="text-xs font-black text-white">ë¶€ì‚° ì‹œë¯¼ê³µì›</h3>
                        <p class="text-[9px] text-gray-400">ë„ì‹¬ ì† íœ´ì‹ì²˜</p>
                    </div>
                </div>

                <!-- ì „í¬ ë¬´ë¦¼ì»¤í”¼ -->
                <div class="group relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/10 bg-gray-900">
                    <img src="https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=200" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-emerald-500 text-white px-1.5 py-0.5 rounded font-black mb-1 inline-block">CAFE</span>
                        <h3 class="text-xs font-black text-white">ì „í¬ ë¬´ë¦¼ì»¤í”¼</h3>
                        <p class="text-[9px] text-gray-400">ë¹ˆí‹°ì§€ ê°ì„± ê°€ë“</p>
                    </div>
                </div>

                <!-- ë¡¯ë°ì‹œë„¤ë§ˆ ì„œë©´ -->
                <div class="group relative aspect-[4/5] rounded-[1.8rem] overflow-hidden border border-white/10 bg-gray-900">
                    <img src="https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=200" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-50 group-hover:opacity-70">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"></div>
                    <div class="absolute bottom-0 left-0 right-0 p-4 z-20">
                        <span class="text-[8px] bg-slate-500 text-white px-1.5 py-0.5 rounded font-black mb-1 inline-block">MOVIE</span>
                        <h3 class="text-xs font-black text-white">ë¡¯ë°ì‹œë„¤ë§ˆ ì„œë©´</h3>
                        <p class="text-[9px] text-gray-400">ìµœì‹  ê°œë´‰ì‘ ìƒì˜ ì¤‘</p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>

<style>
    /* 1. 40px ì´ˆê°•ë ¥ ìš¸íŠ¸ë¼ ë„¤ì˜¨ (ë³´ì •ë³¸) */
    .ultra-heavy-neon {
        /* ë‘ê»˜ë¥¼ 40pxë¡œ ìœ ì§€í•˜ë˜, ì…ì²´ê°ì„ ìœ„í•´ ë‚´ë¶€ ê·¸ë¦¼ì ê°•í™” */
        border: 4px solid #dc2626 !important;
        border-image: linear-gradient(to bottom right, #ff4d4d, #991b1b) 1;
        box-sizing: border-box;
        
        /* ë‘ê»˜ì— ê±¸ë§ì€ ê±°ëŒ€í•œ ì™¸ë¶€ ê´‘íƒ */
        box-shadow: 
            0 0 30px rgba(220, 38, 38, 0.8), 
            0 0 60px rgba(220, 38, 38, 0.4),
            inset 0 0 30px rgba(0, 0, 0, 0.9);
        
        animation: neon-pulse-extreme 2.5s infinite ease-in-out;
    }

    @keyframes neon-pulse-extreme {
        0%, 100% { 
            filter: brightness(1) drop-shadow(0 0 10px rgba(220, 38, 38, 0.5));
            border-color: #991b1b;
        }
        50% { 
            filter: brightness(1.3) drop-shadow(0 0 30px rgba(220, 38, 38, 0.8));
            border-color: #ef4444;
        }
    }

    /* 2. ê¸ˆê°€ë£¨ ë¡œí…Œì´ì…˜ íš¨ê³¼ (í™•ì •ë³¸) */
    .gold-dust-effect {
        position: relative;
        overflow: hidden;
        z-index: 1;
    }
    .gold-dust-effect::before {
        content: '';
        position: absolute;
        inset: -100%; /* ë²”ìœ„ë¥¼ ë„“í˜€ ëŠê¹€ ë°©ì§€ */
        background: conic-gradient(from 0deg, transparent, rgba(255,215,0,0.4), transparent 40%);
        animation: rotate-gold 4s linear infinite;
        z-index: -1;
    }
    @keyframes rotate-gold {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* 3. ë©”íƒˆë¦­/ê±°ìš¸ ì¼ë ì„ (ìµœì í™”) */
    .metallic-shimmer {
        background: linear-gradient(
            -45deg, 
            rgba(0,0,0,0) 0%, 
            rgba(255,255,255,0.05) 45%, 
            rgba(255,255,255,0.6) 50%, 
            rgba(255,255,255,0.05) 55%, 
            rgba(0,0,0,0) 100%
        );
        background-size: 200% 200%;
        animation: animate-shimmer 4s ease-in-out infinite;
    }

    @keyframes animate-shimmer {
        0% { background-position: -100% -100%; }
        100% { background-position: 200% 200%; }
    }
</style>


    <p id="modal-content" class="text-white/90 text-[17px] mb-8 font-medium leading-relaxed break-keep"></p>
    
    <script>
        // --- 1. CEO ê´€ë¦¬ ë°ì´í„° (ë°°ë„ˆ ëª©ë¡) ---
const promoContents = [
    { 
        type: 'image', 
        src:'./assets/img/banner1.jpg', // ì—¬ê¸°ì— ì‚¬ì§„ ì£¼ì†Œ ë„£ê¸°
        text: 'ì°¨ì›ì„ ë„˜ëŠ” íœ´ê°€ ì—¬í–‰' // ì—¬ê¸°ì— ë¬¸êµ¬ ë„£ê¸°
    },
    {
        type: 'image', 
        src:'./assets/img/banner2.jpg', 
        text: 'Premium Selection:<br>ë¯¸ì‹ & ì—„ì„ ëœ ìµœê³ ê¸‰ ' 
    },
    { 
        type: 'image', 
        src:'./assets/img/banner3.jpg', // ì—¬ê¸°ì— ì‚¬ì§„ ì£¼ì†Œ ë„£ê¸°
        text: 'MANGO Special:<br>Early-Bird Trip' // ì—¬ê¸°ì— ë¬¸êµ¬ ë„£ê¸°
    },
    { 
        type: 'video', // ì˜ìƒì¼ ë•ŒëŠ” 'video'ë¼ê³  ì ìœ¼ì„¸ìš”
        src:'./assets/video/promo_video.mp4', // ì—¬ê¸°ì— ì˜ìƒ ì£¼ì†Œ(.mp4) ë„£ê¸°
        text: 'ì‹¤ì‹œê°„ ì˜ˆì•½ ì‹œìŠ¤í…œ ì˜¤í”ˆ'
    }
];
// --- 242í–‰ë¶€í„° 256í–‰ê¹Œì§€(updateBanner í•¨ìˆ˜ ë¶€ë¶„)ë¥¼ ì•„ë˜ë¡œ êµì²´ ---
    let currentPromoIdx = 0;

    // ë°°ë„ˆ ì´ˆê¸°í™”: ì²˜ìŒì— ëª¨ë“  ë°°ë„ˆë¥¼ ê²¹ì³ì„œ ë¯¸ë¦¬ ê·¸ë ¤ë‘¡ë‹ˆë‹¤.
    function initBanners() {
        const slotWrap = document.getElementById('banner-slots');
        if (!slotWrap) return;

        slotWrap.innerHTML = promoContents.map((data, i) => `
            <div class="banner-item absolute inset-0 transition-all duration-1000 transform 
                        ${i === 0 ? 'opacity-100 scale-100' : 'opacity-0 scale-110'}" 
                 style="z-index: ${i === 0 ? 10 : 1}">
                ${data.type === 'video' 
                    ? `<video src="${data.src}" autoplay muted loop class="w-full h-full object-cover opacity-40"></video>` 
                    : `<img src="${data.src}" class="w-full h-full object-cover opacity-40">`
                }
                <div class="absolute inset-0 flex items-center px-6 bg-black/20">
                    <p class="text-sm font-bold tracking-tighter italic text-white drop-shadow-lg leading-tight">${data.text}</p>
                </div>
            </div>
        `).join('');
    }

    // ìì—°ìŠ¤ëŸ¬ìš´ ì „í™˜ í•¨ìˆ˜ (Cross-fade & Zoom)
    function rotateBanners() {
        const items = document.querySelectorAll('.banner-item');
        if (items.length === 0) return;

        // í˜„ì¬ ë°°ë„ˆ: ì„œì„œíˆ ì‚¬ë¼ì§€ë©° ì»¤ì§
        items[currentPromoIdx].classList.replace('opacity-100', 'opacity-0');
        items[currentPromoIdx].classList.replace('scale-100', 'scale-110');
        items[currentPromoIdx].style.zIndex = 1;

        // ë‹¤ìŒ ë°°ë„ˆ ê³„ì‚°
        currentPromoIdx = (currentPromoIdx + 1) % items.length;

        // ë‹¤ìŒ ë°°ë„ˆ: ì„œì„œíˆ ë‚˜íƒ€ë‚˜ë©° ì›ë˜ í¬ê¸°ë¡œ
        items[currentPromoIdx].classList.replace('opacity-0', 'opacity-100');
        items[currentPromoIdx].classList.replace('scale-110', 'scale-100');
        items[currentPromoIdx].style.zIndex = 10;
    }

    // ì‹¤í–‰ ëª…ë ¹ (ê¸°ì¡´ setInterval ë¶€ë¶„ ëŒ€ì²´)
    window.addEventListener('DOMContentLoaded', () => {
        initBanners();
        setInterval(rotateBanners, 4000); // 4ì´ˆë§ˆë‹¤ ë¶€ë“œëŸ½ê²Œ ì „í™˜
    });
   // 1. ë°ì´í„° ì„¤ì •
   // --- [ìˆ˜ì •ëœ ë°ì´í„° ì„¤ì •] ---
const portalData = [
    { id: 'FOOD', icon: 'utensils', url: 'Food/index.html' },               // 1ë²ˆì§¸ (ì •ë©´)
    { id: 'TRANSFER', icon: 'repeat', url: 'Transfer/index.html', desc: 'ì•ˆì „í•œ ì´ë™ ì‹œìŠ¤í…œ.' },          // 2ë²ˆì§¸
    { id: 'TRAVEL', icon: 'plane', url: 'Travel/index.html', desc: 'ê¸€ë¡œë²Œ ì—¬í–‰ ë° ìˆ™ë°• ì˜ˆì•½.' },       // 3ë²ˆì§¸
    { id: 'HOBBY', icon: 'heart', desc: 'ì·¨ë¯¸ì™€ ê°€ì¹˜ë¥¼ ê³µìœ í•˜ëŠ” ì»¤ë®¤ë‹ˆí‹°.' }, // 4ë²ˆì§¸ (ì •í™•íˆ ë°°ì¹˜)
    { id: 'REALTY', icon: 'building', desc: 'ë¶€ë™ì‚° ë§¤ë¬¼ í™•ì¸ ë° ê±°ë˜.' },        // 5ë²ˆì§¸ (ë¦¬ì•¡íŠ¸ ì—°ê²° -> ëª¨ë‹¬)
    { id: 'MARKET', icon: 'shopping-cart', desc: 'ê¸€ë¡œë²Œ íŒŒì´ ì‡¼í•‘ëª°.' },    // 6ë²ˆì§¸
    { id: 'CHAT', icon: 'message-circle', desc: 'ì‹¤ì‹œê°„ ì±„íŒ… ë° ì†Œí†µ.' },     // 7ë²ˆì§¸ (SOCIAL ëŒ€ì²´)
    { id: 'EDUCATION', icon: 'graduation-cap', desc: 'ë¯¸ë˜ë¥¼ ì—¬ëŠ” êµìœ¡ í¬í„¸.' } // 8ë²ˆì§¸ (ADMIN ëŒ€ì²´)
];

    const pivot = document.getElementById('pivot');
    const radius = 280; 
    let currentIndex = 0; 
    let autoRotation = null;
// 2. í¬íƒˆ ìƒì„± ì—”ì§„
    function initPortals() {
        pivot.innerHTML = '';
        currentIndex = 0; 

        portalData.forEach((data, i) => {
            const door = document.createElement('div');
            door.className = 'portal-door';
            door.id = `door-${i}`;
            
            if (i === 0) {
                door.classList.add('active');
                door.style.zIndex = "100";
            }

            const iconFileName = `${data.id.toLowerCase()}_icon.png`;
            const iconSize = (data.id === 'FOOD') ? 'w-28 h-28' : 'w-24 h-24';

            door.innerHTML = `
                <img src="./assets/img/${iconFileName}" 
                     class="${iconSize} object-contain" 
                     alt="${data.id}"
                     onerror="this.src='https://via.placeholder.com/150/222/FFCC00?text=${data.id}'">
            `;

            // í´ë¦­ ì´ë²¤íŠ¸ (í†µí•© ì œì–´ ì—”ì§„)
// --- [ìˆ˜ì •ëœ í´ë¦­ ë¡œì§] ---
            door.onclick = (e) => {
    e.stopPropagation();

    // 1. ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸ ë° ìë™íšŒì „ ì •ì§€
    currentIndex = i;
    updateRotation();
    stopAuto();

    // 2. [í•µì‹¬] 0.5ì´ˆ íšŒì „ í›„ ëª©ì ì§€ ì´ë™
                setTimeout(() => {
                    if (data.id === 'REALTY') {
                        openRealty();
                    } else if (data.url) {
                        window.location.href = data.url;
                    } else {
                        openDetailModal(data.id, data.desc);
            }
         }, 500);
    };
            
            pivot.appendChild(door);
        });

        lucide.createIcons();
        updateRotation();
        startAuto();
    }
// 1. í¬íƒˆ ì´ˆê¸°í™” ì‹¤í–‰ (460í–‰ ì§€ì )
    initPortals();
    // 2. í•µì‹¬ ë¬´ë¹™ ë¡œì§
    function updateRotation() {
        const total = portalData.length;
        portalData.forEach((_, i) => {
            const door = document.getElementById(`door-${i}`);
            const angle = (i - currentIndex) * (360 / total);
            const radian = (angle * Math.PI) / 180;
            const x = Math.sin(radian) * radius;
            const z = (Math.cos(radian) - 1) * radius; 

            door.style.transform = `translate3d(${Math.sin(radian)*280}px, -30px, ${(Math.cos(radian)-1)*280}px)`;

            const activeIdx = (currentIndex % total + total) % total;
            if (i === activeIdx) {
                door.classList.add('active');
                door.style.opacity = "1";
                door.style.filter = "blur(0)";
                door.style.zIndex = "100";
            } else {
                door.classList.remove('active');
                door.style.opacity = "0.2";
                door.style.filter = "blur(3px)";
                door.style.zIndex = "1";
            }
        });
    }

    // 3. ìë™ íšŒì „ ì‹œê°„ ì œì–´ (ì—¬ê¸°ì„œ ì‹œê°„ì„ ì¡°ì ˆí•˜ì„¸ìš”!)
    function startAuto() {
        if (autoRotation) return;
        autoRotation = setInterval(() => {
            currentIndex = (currentIndex + 1) % 8;
            updateRotation();
        }, 5000); // 5000 = 5ì´ˆë§ˆë‹¤ ë‹¤ìŒ í¬íƒˆë¡œ ì´ë™
    }

    function stopAuto() {
        if (autoRotation) {
            clearInterval(autoRotation);
            autoRotation = null;
        }
    }

    // 4. ê¸ˆê°€ë£¨ ì—”ì§„
    function startGoldRain() {
        const container = document.getElementById('gold-dust-container');
        if (!container) return;

        function createParticle() {
            const particle = document.createElement('span');
            particle.className = 'gold-particle';
            const size = Math.random() * 3 + 2;
            const left = Math.random() * 100;
            const duration = Math.random() * 1 + 1.5;
            
            Object.assign(particle.style, {
                width: size + 'px', height: size + 'px',
                left: left + '%', top: '0px', position: 'absolute',
                animation: `fall-and-stack ${duration}s ease-in-out forwards`
            });
            container.appendChild(particle);
            
            setTimeout(() => {
                particle.style.transition = 'opacity 3s';
                particle.style.opacity = '0';
                setTimeout(() => { if(particle.parentNode) particle.remove(); }, 3000);
            }, 20000); 
        }
        setInterval(createParticle, 100);
    }

    // 5. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    window.addEventListener('load', () => {
        startGoldRain();
        startAuto();
    });

    // ìŠ¤ì™€ì´í”„ ë° í‚¤ë³´ë“œ ì œì–´ëŠ” ê¸°ì¡´ ë¡œì§ ìœ ì§€...
    let startX = 0;
    const swipeArea = document.getElementById('swipe-area');
    swipeArea.addEventListener('touchstart', e => { startX = e.touches[0].clientX; stopAuto(); }, {passive: true});
    swipeArea.addEventListener('touchend', e => {
        const diff = startX - e.changedTouches[0].clientX;
        if (Math.abs(diff) > 50) {
            if (diff > 0) currentIndex = (currentIndex + 1) % 8;
            else currentIndex = (currentIndex - 1 + 8) % 8;
            updateRotation();
        }
    }, {passive: true});

    window.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') { currentIndex = (currentIndex - 1 + 8) % 8; updateRotation(); stopAuto(); }
        if (e.key === 'ArrowRight') { currentIndex = (currentIndex + 1) % 8; updateRotation(); stopAuto(); }
    });

// --- [1781í–‰-1813í–‰ ìˆ˜ì • ë²„ì „] ---
function spawnHiddenTreasure() {
    const bannerArea = document.getElementById('banner-slots');
    if (!bannerArea) return;

    const treasure = document.createElement('div');
    treasure.innerHTML = 'ğŸ'; 
    treasure.style.cssText = `
        position: absolute;
        cursor: pointer;
        z-index: 100;
        font-size: 24px;
        filter: drop-shadow(0 0 10px gold);
        left: ${Math.random() * 80 + 10}%;
        top: ${Math.random() * 40 + 30}%;
        transition: opacity 0.5s;
        animation: box-bounce 1s infinite ease-in-out; /* ë°”ìš´ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ ê°€ëŠ¥ */
    `;
    
    // í´ë¦­ ì‹œ ë¦¬ì›Œë“œ ëŒ€ì‹œë³´ë“œë¡œ ì´ë™í•˜ë„ë¡ ê³ ë„í™”
    treasure.onclick = (e) => {
        e.stopPropagation();
        // [2ë‹¨ê³„] ê²½ì œ ì‹œìŠ¤í…œ ì—°ë™: ë³´ìƒ ì§€ê¸‰
        if (typeof MangoApp !== 'undefined') {
            MangoApp.Economy.claimReward();
        } else {
            location.href = './mango_reward_dashboard.html';
        }
        treasure.remove();
    };

    bannerArea.appendChild(treasure);
    // 2ì´ˆ ë’¤ì— ë³´ë¬¼ì´ ì‚¬ë¼ì§ (ë¯¸ìŠ¤í„°ë¦¬ ìš”ì†Œ)
    setTimeout(() => { if(treasure.parentNode) treasure.remove(); }, 2000); 
}

    // --- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (ìš´ì˜ììš©) ---
    function openAdminDashboard() {
        const pw = prompt("ìš´ì˜ì ì¸ì¦ ì•”í˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
        if (pw === "mango777") {
            // ìš´ì˜ììš© ëŒ€ì‹œë³´ë“œë¡œ íŒŒíŠ¸ë„ˆ ëª¨ë‹¬ì„ í™œìš© (íƒ€ì´í‹€ ë³€ê²½ ë“± ì¶”ê°€ ê°€ëŠ¥)
            openPartnerModal();
            alert("ê´€ë¦¬ì ëª¨ë“œë¡œ ì ‘ì†í–ˆìŠµë‹ˆë‹¤.");
        } else if (pw !== null) {
            alert("ì•”í˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        }
    }

    // --- íŒŒíŠ¸ë„ˆ ëª¨ë‹¬ ì œì–´ í•¨ìˆ˜ ---
    function openPartnerModal() {
        const modal = document.getElementById('partner-modal');
        if (modal) modal.classList.remove('hidden');
    }
    function closePartnerModal() {
        const modal = document.getElementById('partner-modal');
        if (modal) modal.classList.add('hidden');
    }
    
    // --- íŒŒíŠ¸ë„ˆ ëŒ€ì‹œë³´ë“œ ë¡œì§ (ê³ ë„í™”) ---
    function updatePreview() {
        const shopName = document.getElementById('ad-shop-name').value || 'ë§¤ì¥ ì´ë¦„';
        const headline = document.getElementById('ad-headline').value || 'í™ë³´ ë¬¸êµ¬ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤';
        const category = document.getElementById('ad-category').value;
        
        document.getElementById('preview-title').innerText = shopName;
        document.getElementById('preview-desc').innerText = headline;
        
        const icons = { 'store': 'ğŸª', 'food': 'ğŸ½ï¸', 'realty': 'ğŸ ', 'service': 'ğŸ”§' };
        const badges = { 'store': 'New Store', 'food': 'Tasty', 'realty': 'Hot Deal', 'service': 'Best Service' };
        
        document.getElementById('preview-icon').innerText = icons[category] || 'ğŸª';
        document.getElementById('preview-badge').innerText = badges[category];
    }

    function handleAdImage(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.getElementById('preview-img');
                img.src = e.target.result;
                img.classList.remove('hidden');
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    function updateCost(days) {
        const costPerDay = 10; // 1ì¼ë‹¹ 10íŒŒì´
        const total = days * costPerDay;
        document.getElementById('ad-cost').innerHTML = `${total} <span class="text-sm text-orange-400">Ï€</span>`;
        document.getElementById('duration-label').innerText = `${days}ì¼ ë…¸ì¶œ`;
    }

    function submitAd() {
        const shopName = document.getElementById('ad-shop-name').value;
        const headline = document.getElementById('ad-headline').value;
        if(!shopName || !headline) {
            alert("ë§¤ì¥ëª…ê³¼ í™ë³´ ë¬¸êµ¬ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }
        const cost = document.getElementById('ad-cost').innerText;
        alert(`ğŸš€ [ê´‘ê³  ìº í˜ì¸ ìƒì„± ì™„ë£Œ]\n\në§¤ì¥ëª…: ${shopName}\në‚´ìš©: ${headline}\nì˜ˆìƒ ë¹„ìš©: ${cost}\n\nê´€ë¦¬ì ìŠ¹ì¸ í›„ íŒŒì´(Ï€)ê°€ ì°¨ê°ë©ë‹ˆë‹¤.`);
        closePartnerModal();
    }

    // --- í”„ë¦¬ë¯¸ì—„ í‹°ì¼“ ë¡œì§ ---
    function togglePremium() {
        const form = document.getElementById('premium-form');
        form.classList.toggle('hidden');
    }

    function loginWithPi() {
      const piId = document.getElementById('pi-id').value;
      const pw = document.getElementById('pi-password').value;

      if (!piId || !pw) {
        alert('PI IDì™€ Mango ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      alert(`ğŸ” PI ID ë¡œê·¸ì¸ ì‹œë„\n\nID: ${piId}\n(24ë‹¨ì–´ ì‚¬ìš© âŒ)`);
      // TODO: ë°±ì—”ë“œ ì¸ì¦ ì—°ë™
    }

    const OAuthConfig = {
      kakao: {
        clientId: 'YOUR_KAKAO_REST_API_KEY',
        redirectUri: `${window.location.origin}/oauth-callback.html`,
        authUrl: 'https://kauth.kakao.com/oauth/authorize'
      },
      google: {
        clientId: 'YOUR_GOOGLE_CLIENT_ID',
        redirectUri: `${window.location.origin}/oauth-callback.html`,
        authUrl: 'https://accounts.google.com/o/oauth2/v2/auth'
      }
    };

    let authContext = {
      provider: null,
      token: null,
      tempToken: null, // 2FAìš© ì„ì‹œ í† í°
      userType: null
    };

    function socialLogin(provider) {
        const p = provider.toLowerCase();
        
        if (p === 'kakao') {
            loginWithKakao();
        } else if (p === 'google') {
            loginWithGoogle();
        } else {
            alert(`ğŸŒ ${provider.toUpperCase()} ë¡œê·¸ì¸ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.`);
        }
    }

    function loginWithKakao() {
      authContext.provider = 'kakao';
      localStorage.setItem('oauth_provider', 'kakao');

      const url =
        `${OAuthConfig.kakao.authUrl}` +
        `?client_id=${OAuthConfig.kakao.clientId}` +
        `&redirect_uri=${OAuthConfig.kakao.redirectUri}` +
        `&response_type=code`;

      window.location.href = url;
    }

    function loginWithGoogle() {
      authContext.provider = 'google';
      localStorage.setItem('oauth_provider', 'google');

      const url =
        `${OAuthConfig.google.authUrl}` +
        `?client_id=${OAuthConfig.google.clientId}` +
        `&redirect_uri=${OAuthConfig.google.redirectUri}` +
        `&response_type=token` +
        `&scope=profile email`;

      window.location.href = url;
    }

    /* ===== Admin 2FA Logic ===== */
    function loginWithPi() {
      const piId = document.getElementById('pi-id').value;
      const pw = document.getElementById('pi-password').value;

      if (!piId || !pw) {
        alert('PI IDì™€ Mango ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      // [Mock] ê´€ë¦¬ì ë¡œê·¸ì¸ ì‹œë®¬ë ˆì´ì…˜
      if (piId === 'admin' && pw === 'mango777') {
        // ë°±ì—”ë“œì—ì„œ { requires2FA: true, tempToken: '...' } ì‘ë‹µì„ ë°›ì•˜ë‹¤ê³  ê°€ì •
        authContext.tempToken = 'mock_temp_token_123';
        
        // UI ì „í™˜: ë¡œê·¸ì¸ í¼ ìˆ¨ê¸°ê¸° -> OTP í¼ ë³´ì´ê¸°
        document.getElementById('login-form-section').classList.add('hidden');
        document.getElementById('otp-section').classList.remove('hidden');
        document.getElementById('otp-input').focus();
        return;
      }

      alert(`ğŸ” PI ID ë¡œê·¸ì¸ ì‹œë„\n\nID: ${piId}\n(24ë‹¨ì–´ ì‚¬ìš© âŒ)`);
      // ì¼ë°˜ ìœ ì € ë¡œê·¸ì¸ ë¡œì§...
    }

    function verifyAdminOTP() {
        const otp = document.getElementById('otp-input').value;
        if(otp.length !== 6) {
            alert('6ìë¦¬ OTP ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }

        // [Mock] OTP ê²€ì¦ ì„±ê³µ ì‹œë®¬ë ˆì´ì…˜
        if(otp === '123456') {
            alert('âœ… ê´€ë¦¬ì ì¸ì¦ ì„±ê³µ!\nëŒ€ì‹œë³´ë“œë¡œ ì´ë™í•©ë‹ˆë‹¤.');
            localStorage.setItem('mango_auth', JSON.stringify({ userType: 'admin', token: 'admin_jwt' }));
            closeLoginModal();
            // location.href = '/admin/dashboard.html'; // ì‹¤ì œ ì´ë™
        } else {
            alert('âŒ ì˜ëª»ëœ OTP ì½”ë“œì…ë‹ˆë‹¤.');
        }
    }

    function resetLogin() {
        document.getElementById('otp-section').classList.add('hidden');
        document.getElementById('login-form-section').classList.remove('hidden');
        authContext.tempToken = null;
    }

    function mockLoginSuccess(provider) {
        authContext.userType = 'social';
        authContext.provider = provider;
        authContext.token = 'mock_token_' + Date.now();
        
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ (ì„¸ì…˜ ìœ ì§€ ì‹œë®¬ë ˆì´ì…˜)
        localStorage.setItem('mango_auth', JSON.stringify(authContext));
        
        alert(`âœ… ${provider.toUpperCase()} (Mock) ë¡œê·¸ì¸ ì„±ê³µ!\ní† í°ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`);
        closeLoginModal();
        resolveUserJourney();
    }

    function handleOAuthCallback() {
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code');
        
        if (code) {
            // OAuth Redirect ê°ì§€
            console.log('Auth Code Detected:', code);
            
            // URL ì •ë¦¬ (ì½”ë“œê°€ ì£¼ì†Œì°½ì— ë‚¨ì§€ ì•Šê²Œ)
            window.history.replaceState({}, document.title, window.location.pathname);
            
            // ì„ì‹œ ë¡œê·¸ì¸ ì²˜ë¦¬ (ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ë°±ì—”ë“œë¡œ codeë¥¼ ë³´ë‚´ í† í° êµí™˜)
            mockLoginSuccess('oauth_callback');
        } else {
            // ì´ë¯¸ ë¡œê·¸ì¸ëœ ìƒíƒœì¸ì§€ í™•ì¸
            const savedAuth = localStorage.getItem('mango_auth');
            if (savedAuth) {
                authContext = JSON.parse(savedAuth);
                resolveUserJourney();
            }
        }
    }

    function updateUIForLoggedInUser() {
        console.log('User Logged In:', authContext);
        // ë¡œê·¸ì¸ ì„±ê³µ ì‹œ UI ë³€ê²½ (ì˜ˆ: ë¡œê·¸ì¸ ë²„íŠ¼ -> í”„ë¡œí•„ ì•„ì´ì½˜)
        // í˜„ì¬ëŠ” ì½˜ì†” ë¡œê·¸ë§Œ ì¶œë ¥
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ OAuth ì½œë°± í™•ì¸
    window.addEventListener('load', handleOAuthCallback);

    function getTicket() {
        const phone = document.getElementById('biz-phone').value;
        if(!phone) {
            alert('ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }
        document.getElementById('ticket-overlay').classList.remove('hidden');
    }

    function closeTicket() {
        document.getElementById('ticket-overlay').classList.add('hidden');
        closePartnerModal();
    }
</script>
<div id="property-detail-modal" class="hidden fixed inset-0 z-[110] bg-black/95 backdrop-blur-2xl">
    <div class="max-w-[450px] mx-auto h-full flex flex-col relative">
        <div class="relative h-72 w-full">
            <img id="detail-image" src="" class="w-full h-full object-cover">
            <button onclick="closePropertyDetail()" class="absolute top-6 right-6 w-10 h-10 rounded-full bg-black/50 backdrop-blur-md flex items-center justify-center text-white">âœ•</button>
        </div>
        <div class="flex-1 bg-black rounded-t-[32px] -mt-8 p-8 overflow-y-auto border-t border-white/10">
            <div class="flex justify-between items-start mb-4">
                <div>
                    <h2 id="detail-title" class="text-2xl font-bold text-white mb-1">ë§¤ë¬¼ëª…</h2>
                    <p id="detail-location" class="text-white/50 text-sm">ìœ„ì¹˜ ì •ë³´</p>
                </div>
                <div class="text-right">
                    <span id="detail-price" class="text-2xl font-black text-orange-500">0 Ï€</span>
                </div>
            </div>
            <div class="bg-white/5 rounded-2xl p-5 mb-6 border border-white/10">
                <div class="flex justify-between items-center mb-3">
                    <span class="text-xs text-white/60 font-medium tracking-widest uppercase">Trust Score</span>
                    <span id="detail-score-text" class="text-orange-500 font-black text-lg">0Â°C</span>
                </div>
                <div class="h-3 w-full bg-white/10 rounded-full overflow-hidden">
                    <div id="detail-score-bar" class="h-full bg-gradient-to-r from-orange-600 to-orange-400 transition-all duration-1000 ease-out" 
                         style="width: 0%; background-clip: padding-box; -webkit-background-clip: padding-box;"></div>
                </div>
            </div>
            <p id="detail-description" class="text-white/70 leading-relaxed text-sm mb-10">ë§¤ë¬¼ ì„¤ëª…ì´ ë“¤ì–´ê°€ëŠ” ìë¦¬ì…ë‹ˆë‹¤.</p>
            <button onclick="alert('Pi Browserë¥¼ í†µí•´ ê²°ì œì°½ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.')" class="w-full bg-orange-500 hover:bg-orange-600 text-black font-black py-5 rounded-2xl transition-all active:scale-95 mb-10">
                <span>PI NETWORK ê²°ì œí•˜ê¸°</span>
            </button>
        </div>
    </div>
</div>



        <div id="control-box" style="display:none;" class="space-y-10">
            <div style="background:rgba(234,179,8,0.05); padding:25px; border-radius:30px; border:1px solid rgba(234,179,8,0.2); text-align:center;">
                <p style="font-size:8px; color:#EAB308; letter-spacing:3px;">TOTAL EMPIRE REVENUE</p>
                <div id="vault-val" style="font-size:36px; color:#EAB308; font-weight:900; margin:10px 0;">14,520.45</div>
                <p style="font-size:9px; color:#22C55E;">â— LIVE STREAMING ACTIVE</p>
            </div>

            <div>
                <h3 style="font-size:10px; color:#EF4444; letter-spacing:2px; margin-bottom:15px;">PERSONNEL ASSENT (ì¸ì‚¬ê¶Œ)</h3>
                <div style="background:rgba(255,255,255,0.05); padding:15px; border-radius:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div style="font-size:10px; color:white;">
                        <strong>James (NY Node)</strong><br><span style="opacity:0.4;">Logistics Manager</span>
                    </div>
                    <button onclick="this.parentElement.style.opacity='0.3'; alert('Assent Granted');" style="color:#22C55E; font-weight:900;">GRANT âœ”</button>
                </div>
            </div>

            <div style="background:rgba(34,197,94,0.05); padding:20px; border-radius:30px; border:1px solid rgba(34,197,94,0.1);">
                <h3 style="font-size:10px; color:#22C55E; margin-bottom:20px;">ECOSYSTEM REWARD</h3>
                <div style="margin-bottom:15px;">
                    <div style="display:flex; justify-content:space-between; font-size:9px; color:white; opacity:0.6; margin-bottom:8px;">
                        <span>Referral Bonus</span><span id="ref-txt">3.1 mPi</span>
                    </div>
                    <input type="range" min="0" max="10" step="0.1" value="3.1" oninput="document.getElementById('ref-txt').innerText=this.value+' mPi'" style="width:100%; accent-color:#22C55E;">
                </div>
            </div>

            <button onclick="closeCeo()" style="width:100%; padding:20px; background:white; color:black; font-weight:900; border-radius:25px; font-size:10px; letter-spacing:2px;">SYNC & EXIT</button>
        </div>
    </div>
</div>

<style>
    .portal-rail {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        width: 80px; /* ë„ˆë¹„ ìµœì í™” */
        display: flex;
        flex-direction: column;
        gap: 12px;
        z-index: 45; /* ë©”ì¸ ìš”ì†Œë³´ë‹¤ ì•½ê°„ ìœ„ */
        pointer-events: none;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* 400px ë©”ì¸ ì°½ ì¤‘ì‹¬ì—ì„œ ë” ì•ˆìª½ìœ¼ë¡œ ë°”ì§ ë¶™ì„ (100px -> 80pxë¡œ ìˆ˜ì •) */
    #rail-left { 
        left: calc(50% - 200px - 80px); 
        align-items: flex-end; 
    }
    #rail-right { 
        right: calc(50% - 200px - 80px); 
        align-items: flex-start; 
    }

    .portal-unit {
        pointer-events: auto;
        width: 65px;
        height: 65px;
        opacity: 0.4; /* ëŒ€ê¸° ì‹œ íˆ¬ëª…ë„ ì•½ê°„ ìƒí–¥ (ë” ì˜ ë³´ì´ê²Œ) */
        filter: grayscale(100%);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        cursor: pointer;
        background: rgba(20, 20, 20, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        color: white;
        font-weight: 800;
        text-transform: uppercase;
        backdrop-filter: blur(8px);
    }

    /* í˜¸ë²„ ì‹œ íŠ€ì–´ë‚˜ì˜¤ëŠ” ì •ë„ ì¡°ì ˆ */
    .portal-unit:hover {
        opacity: 1;
        filter: grayscale(0%);
        /* ë„ˆë¬´ ë©€ë¦¬ íŠ€ì–´ë‚˜ê°€ì§€ ì•Šê²Œ ìˆ˜ì • */
        transform: scale(1.1) translateX(calc(var(--dir) * 5px));
        border-color: #f97316;
        box-shadow: 0 0 25px rgba(249, 115, 22, 0.5);
    }

    /* 2. ê³µí†µ ìœˆë„ìš° ê·œê²© (400px ê°•ì œ) */
    .mango-window {
        width: 400px;
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        background: rgba(15, 15, 15, 0.95);
        backdrop-filter: blur(20px);
        border: 2px solid rgba(249, 115, 22, 0.5);
        border-radius: 32px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
        z-index: 100;
        overflow: hidden;
        transition: all 0.3s ease;
        opacity: 0;
        visibility: hidden;
        scale: 0.95;
    }
    .mango-window.active {
        opacity: 1;
        visibility: visible;
        scale: 1;
    }
    /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ */
    .no-scroll::-webkit-scrollbar { display: none; }

    @keyframes box-bounce {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.2); }
    }
</style>


<div id="consult-modal" class="fixed inset-0 z-[110] hidden bg-black/90 backdrop-blur-lg flex items-center justify-center">
    <div class="w-[400px] glass p-6 border-orange-500/50 relative">
        <button onclick="closeConsultModal()" class="absolute top-4 right-4 text-white/50 hover:text-white">âœ•</button>
        <div class="text-center mb-6">
            <div class="text-5xl mb-3">ğŸ“±</div>
            <h3 class="text-xl font-bold text-orange-400">ìƒë‹´ ì‹ ì²­í•˜ê¸°</h3>
        </div>
        <textarea id="consult-message" rows="3" placeholder="ë¬¸ì˜ ë‚´ìš©..." class="w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-sm text-white mb-4"></textarea>
        <button onclick="submitConsult()" class="w-full py-4 bg-orange-500 text-black font-bold rounded-2xl">ì „ì†¡í•˜ê¸°</button>
    </div>
</div>

<div id="ad-area-fixed" class="w-full flex justify-center my-8">
    <div id="travel-ad-fixed" style="width: 400px;" class="bg-black border-2 border-orange-500 rounded-[24px] overflow-hidden relative shadow-2xl">
        <div class="h-[180px] relative">
            <img src="mango/assets/img/trip.jpg" onerror="this.src='https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=400&h=180&auto=format&fit=crop';" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black/90 to-transparent"></div>
        </div>
        <div class="p-5 bg-[#0a0a0a]">
            <h3 class="text-white text-lg font-black italic">ì°¨ì›ì„ ë„˜ëŠ” íœ´ê°€</h3>
            <div class="flex justify-between items-center mt-3">
                <span class="text-orange-500 text-[10px] font-bold">AD PARTNER</span>
                <button onclick="document.getElementById('travel-ad-fixed').remove()" class="text-white text-xs">CLOSE [X]</button>
            </div>
        </div>
    </div>
</div>

<div id="chat-modal" class="mango-window h-[600px] flex flex-col" style="z-index: 999999;">
    <div class="p-5 border-b border-white/10 bg-orange-500/10 flex justify-between items-center">
        <span class="text-white font-black italic">MANGO CHAT</span>
        <button onclick="closeChat()" class="text-white text-2xl">Ã—</button>
    </div>
    <div id="chat-messages" class="flex-1 p-5 overflow-y-auto flex flex-col gap-4 no-scroll"></div>
    <div class="p-5 bg-white/5 border-t border-white/10 flex gap-2">
        <input type="text" id="chat-input" class="flex-1 bg-black border border-white/20 rounded-xl p-3 text-white" placeholder="ë©”ì‹œì§€...">
        <button onclick="sendMessage()" class="bg-orange-500 px-5 rounded-xl text-black font-bold">SEND</button>
    </div>
</div>

<script>
/** * Mango System Integrated Script (Updated)
 * - Portal Logic Added
 * - Width Standardization Enforced
 */

// 1. ì‹œìŠ¤í…œ ì´ˆê¸°í™”
window.addEventListener('DOMContentLoaded', () => {
    // ì±„íŒ… ë¶ˆëŸ¬ì˜¤ê¸°
    const chatHistory = JSON.parse(localStorage.getItem('mango_chat_history')) || [];
    chatHistory.forEach(data => renderMessage(data));

    // CEO í‚¤ ì„¤ì •
    if (!localStorage.getItem('mango_ceo_key')) localStorage.setItem('mango_ceo_key', '7777');
    
    // Realty ì´ˆê¸° ë°ì´í„° ë¡œë“œ (ë§Œì•½ mockPropertiesê°€ ìˆë‹¤ë©´)
    if(typeof window.mockProperties !== 'undefined' && typeof renderRealtyCards === 'function') {
        renderRealtyCards(window.mockProperties);
    }
});

// 2. í¬í„¸ ì‹œìŠ¤í…œ (í•µì‹¬ ì¶”ê°€ ì‚¬í•­)
function openPortal(type) {
    // ëª¨ë“  ìœˆë„ìš° ë‹«ê¸°
    document.querySelectorAll('.mango-window').forEach(w => w.classList.remove('active'));
    
    // ì„ íƒí•œ í¬í„¸ ì—´ê¸°
    const target = document.getElementById(`portal-${type}`);
    if (target) {
        target.classList.add('active');
    } else {
        alert(type.toUpperCase() + " í¬í„¸ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.");
    }
}

function closeAllPortals() {
    // mango-window í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì†Œ ìˆ¨ê¸°ê¸°
    document.querySelectorAll('.mango-window').forEach(el => {
        el.classList.remove('active');
    });
    // ì±„íŒ… ëª¨ë‹¬ì€ ë³„ë„ IDì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ í™•ì‹¤íˆ ë‹«ê¸°
    document.getElementById('chat-modal').classList.remove('active');
}

// 3. ì±„íŒ… ë¡œì§ (mango-window í´ë˜ìŠ¤ ì ìš©ìœ¼ë¡œ ìˆ˜ì •ë¨)
function openChat() {
    const m = document.getElementById('chat-modal');
    m.classList.remove('hidden'); // ê¸°ì¡´ hidden í´ë˜ìŠ¤ ì œê±° í˜¸í™˜ì„±
    m.classList.add('active');
}
function closeChat() {
    const m = document.getElementById('chat-modal');
    m.classList.remove('active');
    setTimeout(() => m.classList.add('hidden'), 300); // ì• ë‹ˆë©”ì´ì…˜ í›„ ìˆ¨ê¹€
}
function sendMessage() {
    const input = document.getElementById('chat-input');
    if (!input.value.trim()) return;
    const data = { text: input.value, sender: 'me', time: new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'}) };
    renderMessage(data);
    saveMessage(data);
    input.value = "";
    const container = document.getElementById('chat-messages');
    container.scrollTop = container.scrollHeight;
}
function renderMessage(data) {
    const container = document.getElementById('chat-messages');
    const isMe = data.sender === 'me';
    container.insertAdjacentHTML('beforeend', `
        <div class="flex ${isMe ? 'justify-end' : 'justify-start'} mb-2">
            <div class="${isMe ? 'bg-orange-500 text-black' : 'bg-white/10 text-white'} p-3 rounded-2xl max-w-[85%] text-sm font-bold">
                ${data.text}
                <div class="text-[9px] opacity-50 text-right mt-1">${data.time}</div>
            </div>
        </div>
    `);
}
function saveMessage(data) {
    let h = JSON.parse(localStorage.getItem('mango_chat_history')) || [];
    h.push(data);
    localStorage.setItem('mango_chat_history', JSON.stringify(h));
}

// 4. ë¶€ë™ì‚° ìƒì„¸ & ì‹ ë¢° ì˜¨ë„ ì• ë‹ˆë©”ì´ì…˜
function openPropertyDetail(id) {
    const p = (typeof window.mockProperties !== 'undefined') ? window.mockProperties.find(x => x.id === id) : null;
    if(!p) return;

    // ë°ì´í„° ë°”ì¸ë”©
    document.getElementById('detail-image').src = p.image;
    document.getElementById('detail-title').innerText = p.title;
    document.getElementById('detail-location').innerText = p.location;
    document.getElementById('detail-price').innerText = p.price_pi + ' Ï€';
    
    // ëª¨ë‹¬ ì—´ê¸°
    document.getElementById('property-detail-modal').classList.remove('hidden');

    // ì• ë‹ˆë©”ì´ì…˜
    const bar = document.getElementById('detail-score-bar');
    const txt = document.getElementById('detail-score-text');
    bar.style.width = '0%';
    txt.innerText = '0Â°C';

    setTimeout(() => {
        bar.style.width = p.trust_score + '%';
        let current = 0;
        const iv = setInterval(() => {
            if(current >= p.trust_score) clearInterval(iv);
            else { current++; txt.innerText = current + 'Â°C'; }
        }, 15);
    }, 300);
}

// 5. CEO ë³´ì•ˆ ì—”ì§„ (ë¡œê³  ë¡±íƒ­)
window.addEventListener('load', () => {
    const logo = document.querySelector('.logo-container');
    if(logo) {
        let timer;
        const start = () => {
            timer = setTimeout(() => {
                document.getElementById('ceo-master-layer').style.display = 'flex';
                if(navigator.vibrate) navigator.vibrate([100, 50, 100]);
            }, 3000);
        };
        const end = () => clearTimeout(timer);
        logo.onmousedown = start; logo.onmouseup = end;
        logo.ontouchstart = start; logo.ontouchend = end;
    }
});

function accessVerify() {
    if(document.getElementById('ceo-pass').value === localStorage.getItem('mango_ceo_key')) {
        document.getElementById('auth-box').style.display = 'none';
        document.getElementById('control-box').style.display = 'block';
        setInterval(() => {
            let v = parseFloat(document.getElementById('vault-val').innerText.replace(/,/g,'')) || 14520;
            document.getElementById('vault-val').innerText = (v + Math.random()).toLocaleString(undefined, {maximumFractionDigits:2});
        }, 200);
    } else {
        alert('ACCESS DENIED');
    }
}

function closeCeo() {
    document.getElementById('ceo-master-layer').style.display = 'none';
    document.body.style.overflow = '';
}

function closeConsultModal() {
    document.getElementById('consult-modal').classList.add('hidden');
}

function submitConsult() {
    const msg = document.getElementById('consult-message').value;
    if(!msg) {
        alert("ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”!");
        return;
    }
    alert("ğŸš€ [ì „ì†¡ ì™„ë£Œ]\nì‚¬ì¥ë‹˜ê»˜ ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nê³§ ë‹µë³€ì´ ë„ì°©í•  ì˜ˆì •ì…ë‹ˆë‹¤.");
    closeConsultModal();
    document.getElementById('consult-message').value = "";
}

function renderRealtyCards(dataList) {
    const container = document.getElementById('property-list');
    if(!container) return;

    container.innerHTML = window.mockProperties.filter(p => p.trust_score > 50).map(p => `
        <div onclick="openPropertyDetail(${p.id})" class="cursor-pointer bg-white/5 border border-white/10 rounded-2xl p-3 flex gap-3 mb-3 hover:bg-white/10 transition-all active:scale-95">
            <div class="w-20 h-20 rounded-lg overflow-hidden bg-black/40">
                <img src="${p.image}" class="w-full h-full object-cover opacity-80">
            </div>
            <div class="flex-1">
                <h3 class="text-sm font-bold text-white">${p.title}</h3>
                <p class="text-[10px] text-white/40">${p.location}</p>
                <div class="flex justify-between items-end mt-2">
                    <span class="text-xs text-orange-400 font-black">${p.trust_score}Â°C</span>
                    <span class="text-xs text-white font-bold">${p.price_pi} Ï€</span>
                </div>
            </div>
        </div>
    `).join('');
    
    if(window.lucide) lucide.createIcons();
}

function filterProperties() {
    const input = document.getElementById('realtySearchInput');
    const container = document.getElementById('property-list');
    if (!input || !container) return;

    const searchTerm = input.value.toLowerCase();
    
    const filtered = window.mockProperties.filter(p => 
        (p.title.toLowerCase().includes(searchTerm) || 
         p.location.toLowerCase().includes(searchTerm)) && p.trust_score > 50
    );

    renderRealtyCards(filtered);
}

// Add event listener for realty search input
window.addEventListener('DOMContentLoaded', () => {
    const realtyInput = document.querySelector('#portal-realty input');
    if(realtyInput) {
        realtyInput.addEventListener('keyup', filterProperties);
    }
});

</script>
<div id="property-detail-modal" class="hidden fixed inset-0 z-[110] bg-black/95 backdrop-blur-2xl">
    <div class="max-w-[450px] mx-auto h-full flex flex-col relative">
        <div class="relative h-72 w-full">
            <img id="detail-image" src="" class="w-full h-full object-cover">
            <button onclick="closePropertyDetail()" class="absolute top-6 right-6 w-10 h-10 rounded-full bg-black/50 backdrop-blur-md flex items-center justify-center text-white">âœ•</button>
        </div>
        <div class="flex-1 bg-black rounded-t-[32px] -mt-8 p-8 overflow-y-auto border-t border-white/10">
            <div class="flex justify-between items-start mb-4">
                <div>
                    <h2 id="detail-title" class="text-2xl font-bold text-white mb-1">ë§¤ë¬¼ëª…</h2>
                    <p id="detail-location" class="text-white/50 text-sm">ìœ„ì¹˜ ì •ë³´</p>
                </div>
                <div class="text-right">
                    <span id="detail-price" class="text-2xl font-black text-orange-500">0 Ï€</span>
                </div>
            </div>
            <div class="bg-white/5 rounded-2xl p-5 mb-6 border border-white/10">
                <div class="flex justify-between items-center mb-3">
                    <span class="text-xs text-white/60 font-medium tracking-widest uppercase">Trust Score</span>
                    <span id="detail-score-text" class="text-orange-500 font-black text-lg">0Â°C</span>
                </div>
                <div class="h-3 w-full bg-white/10 rounded-full overflow-hidden">
                    <div id="detail-score-bar" class="h-full bg-gradient-to-r from-orange-600 to-orange-400 transition-all duration-1000 ease-out" 
                         style="width: 0%; background-clip: padding-box; -webkit-background-clip: padding-box;"></div>
                </div>
            </div>
            <p id="detail-description" class="text-white/70 leading-relaxed text-sm mb-10">ë§¤ë¬¼ ì„¤ëª…ì´ ë“¤ì–´ê°€ëŠ” ìë¦¬ì…ë‹ˆë‹¤.</p>
            <button onclick="alert('Pi Browserë¥¼ í†µí•´ ê²°ì œì°½ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.')" class="w-full bg-orange-500 hover:bg-orange-600 text-black font-black py-5 rounded-2xl transition-all active:scale-95 mb-10">
                <span>PI NETWORK ê²°ì œí•˜ê¸°</span>
            </button>
        </div>
    </div>
</div>

<style>
    
    .ceo-panel {
        width: 100%;
        max-width: 480px;
        height: 90vh;
        background: #050505;
        border: 1px solid rgba(234, 179, 8, 0.3);
        border-radius: 3.5rem;
        padding: 2.5rem;
        overflow-y: auto;
        position: relative;
    }
    .ceo-panel::-webkit-scrollbar { display: none; }
</style>



            

        <div id="control-box" style="display:none;" class="space-y-10">
            <div style="background:rgba(234,179,8,0.05); padding:25px; border-radius:30px; border:1px solid rgba(234,179,8,0.2); text-align:center;">
                <p style="font-size:8px; color:#EAB308; letter-spacing:3px;">TOTAL EMPIRE REVENUE</p>
                <div id="vault-val" style="font-size:36px; color:#EAB308; font-weight:900; margin:10px 0;">14,520.45</div>
                <p style="font-size:9px; color:#22C55E;">â— LIVE STREAMING ACTIVE</p>
            </div>

            <div>
                <h3 style="font-size:10px; color:#EF4444; letter-spacing:2px; margin-bottom:15px;">PERSONNEL ASSENT (ì¸ì‚¬ê¶Œ)</h3>
                <div style="background:rgba(255,255,255,0.05); padding:15px; border-radius:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div style="font-size:10px; color:white;">
                        <strong>James (NY Node)</strong><br><span style="opacity:0.4;">Logistics Manager</span>
                    </div>
                    <button onclick="this.parentElement.style.opacity='0.3'; alert('Assent Granted');" style="color:#22C55E; font-weight:900;">GRANT âœ”</button>
                </div>
            </div>

            <div style="background:rgba(34,197,94,0.05); padding:20px; border-radius:30px; border:1px solid rgba(34,197,94,0.1);">
                <h3 style="font-size:10px; color:#22C55E; margin-bottom:20px;">ECOSYSTEM REWARD</h3>
                <div style="margin-bottom:15px;">
                    <div style="display:flex; justify-content:space-between; font-size:9px; color:white; opacity:0.6; margin-bottom:8px;">
                        <span>Referral Bonus</span><span id="ref-txt">3.1 mPi</span>
                    </div>
                    <input type="range" min="0" max="10" step="0.1" value="3.1" oninput="document.getElementById('ref-txt').innerText=this.value+' mPi'" style="width:100%; accent-color:#22C55E;">
                </div>
            </div>

            <button onclick="closeCeo()" style="width:100%; padding:20px; background:white; color:black; font-weight:900; border-radius:25px; font-size:10px; letter-spacing:2px;">SYNC & EXIT</button>
        </div>
    </div>
</div>

<script>
    function accessVerify() {
        if(document.getElementById('ceo-pass').value === '7777') {
            document.getElementById('auth-box').style.display = 'none';
            document.getElementById('control-box').style.display = 'block';
            startRevenue();
        } else { alert('INVALID SEAL'); }
    }

    function startRevenue() {
        let money = 14520.45;
        setInterval(() => {
            money += Math.random() * 0.15;
            document.getElementById('vault-val').innerText = money.toLocaleString(undefined, {minimumFractionDigits:2});
        }, 100);
    }

    function closeCeo() {
        document.getElementById('ceo-master-layer').style.display = 'none';
        document.body.style.overflow = '';
    }

    // ë¡œê³  3ì´ˆ í™€ë“œ ì§„ì… (ë°˜ë“œì‹œ ë¡œê³  í´ë˜ìŠ¤ëª…ì´ 'logo-container'ì¸ì§€ í™•ì¸í•˜ì„¸ìš”)
    window.addEventListener('load', () => {
        const logo = document.querySelector('.logo-container');
        if(logo) {
            let timer;
            logo.onmousedown = () => timer = setTimeout(() => {
                document.getElementById('ceo-master-layer').style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }, 3000);
            logo.onmouseup = () => clearTimeout(timer);
        }
    });

    openPropertyDetail = function(id) {
        const p = typeof mockProperties !== 'undefined' ? mockProperties.find(item => item.id === id) : null;
        if(!p) return;
        document.getElementById('detail-image').src = p.image;
        document.getElementById('detail-title').innerText = p.title;
        document.getElementById('detail-location').innerText = p.location;
        document.getElementById('detail-price').innerText = p.price_pi + ' Ï€';
        document.getElementById('property-detail-modal').classList.remove('hidden');
        
        const sb = document.getElementById('detail-score-bar');
        const st = document.getElementById('detail-score-text');
        sb.style.width = '0%';
        st.innerText = '0Â°C';
        
        setTimeout(() => {
            sb.style.width = p.trust_score + '%';
            let current = 0;
            const iv = setInterval(() => {
                if(current >= p.trust_score) clearInterval(iv);
                else { current++; st.innerText = current + 'Â°C'; }
            }, 15);
        }, 300);
    };

    closePropertyDetail = function() { document.getElementById('property-detail-modal').classList.add('hidden'); };
</script>

<div id="wallet-hud" class="fixed top-6 left-6 z-[60] bg-black/60 backdrop-blur-xl border border-white/10 px-4 py-2 rounded-2xl flex items-center gap-3">
    <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center font-black text-black">Ï€</div>
    <div id="user-wallet-balance" class="text-white font-bold text-sm">0.0000 mPi</div>
</div>

<script>
/**
 * [ê²€ìˆ˜ì™„ë£Œ] MANGO-Pi SYSTEM CORE v2.1
 * 1ë‹¨ê³„: ì‚¬ì–‘ ê°ì§€ ì—”ì§„ + 2ë‹¨ê³„: ê²½ì œ ì‹œìŠ¤í…œ í†µí•©
 */
const MangoApp = {
    state: {
        userBalance: 0,
        piVault: 14520.45,
        isHighEnd: true // ê¸°ë³¸ê°’ ê³ ì‚¬ì–‘
    },

    // [1ë‹¨ê³„] ì‚¬ì–‘ ê°ì§€ ì—”ì§„
    initSpec() {
        const cores = navigator.hardwareConcurrency || 4; // CPU ì½”ì–´ ìˆ˜
        const memory = navigator.deviceMemory || 4;       // RAM (GB)
        
        // ì €ì‚¬ì–‘ ê¸°ì¤€: ì½”ì–´ 4ê°œ ë¯¸ë§Œ ë˜ëŠ” ë©”ëª¨ë¦¬ 4GB ë¯¸ë§Œ
        if (cores < 4 || memory < 4) {
            this.state.isHighEnd = false;
            document.documentElement.classList.add('low-spec');
            console.log("ğŸš€ ëª¨ë“œ: ì €ì‚¬ì–‘(Lite) ì—”ì§„ ê°€ë™");
        } else {
            document.documentElement.classList.add('high-spec');
            console.log("ğŸš€ ëª¨ë“œ: ê³ ì‚¬ì–‘(High-End) ì—”ì§„ ê°€ë™");
        }
    },

    // [2ë‹¨ê³„] ê²½ì œ ì—”ì§„
    Economy: {
        async requestPayment(amount, memo) {
            const confirmPay = confirm(`[Pi Network ê²°ì œ]\nê¸ˆì•¡: ${amount}\në‚´ìš©: ${memo}\n\nê²°ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`);
            if (confirmPay) {
                alert(`âœ… ê²°ì œ ì„±ê³µ! (TX: tx_${Date.now()})`);
                return true;
            }
            return false;
        },

        claimReward() {
            const reward = (Math.random() * 0.4 + 0.1).toFixed(4);
            MangoApp.state.userBalance += parseFloat(reward);
            
            // ì‹œê° íš¨ê³¼ (ì‚¬ì–‘ì— ë”°ë¼ ë¶„ê¸°)
            if (MangoApp.state.isHighEnd) {
                this.spawnRewardEffect(reward); // ê³ ì‚¬ì–‘ì€ ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
            }
            this.updateUI();
        },

        spawnRewardEffect(amount) {
            const el = document.createElement('div');
            el.className = 'fixed z-[300] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-3xl font-black text-orange-500 animate-bounce pointer-events-none';
            el.innerText = `+${amount} mPi`;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 2000);
        },

        updateUI() {
            const balEl = document.getElementById('user-wallet-balance');
            if(balEl) balEl.innerText = MangoApp.state.userBalance.toFixed(4) + ' mPi';
        }
    }
};

// ìµœì í™”ëœ ì´ˆê¸°í™” ë¡œì§
document.addEventListener('DOMContentLoaded', () => {
    MangoApp.initSpec(); // 1. ì‚¬ì–‘ ê°ì§€ë¶€í„° ì‹œì‘
    MangoApp.Economy.updateUI();

    // ê²°ì œ ë²„íŠ¼ ì—°ê²° (ì´ë²¤íŠ¸ ìœ„ì„ ë°©ì‹ìœ¼ë¡œ ë²„ê·¸ ë°©ì§€)
    document.addEventListener('click', (e) => {
        const btn = e.target.closest('#property-detail-modal button');
        if (btn) {
            const price = document.getElementById('detail-price').innerText;
            const title = document.getElementById('detail-title').innerText;
            MangoApp.Economy.requestPayment(price, title);
        }
        
        const box = e.target.closest('#treasure-box');
        if (box) MangoApp.Economy.claimReward();
    });
});
</script>
</body>
</html>       